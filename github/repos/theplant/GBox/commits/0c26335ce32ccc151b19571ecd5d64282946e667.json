{
  "committer": {
    "login": "chenxiaoyi",
    "avatar_url": "https://secure.gravatar.com/avatar/38eb4e6b823b7e406e11de34be7fe61d?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png",
    "id": 877966,
    "url": "https://api.github.com/users/chenxiaoyi"
  },
  "author": {
    "login": "chenxiaoyi",
    "avatar_url": "https://secure.gravatar.com/avatar/38eb4e6b823b7e406e11de34be7fe61d?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png",
    "id": 877966,
    "url": "https://api.github.com/users/chenxiaoyi"
  },
  "files": [
    {
      "patch": "--- a/GBox.xcodeproj/project.pbxproj\n+++ b/GBox.xcodeproj/project.pbxproj\n@@ -49,6 +49,8 @@\n \t\t4C615715141A083600BC86AD /* Advanced.png in Resources */ = {isa = PBXBuildFile; fileRef = 4C615711141A083500BC86AD /* Advanced.png */; };\n \t\t4C615716141A083600BC86AD /* General.png in Resources */ = {isa = PBXBuildFile; fileRef = 4C615712141A083500BC86AD /* General.png */; };\n \t\t4C615718141A08F400BC86AD /* Network.png in Resources */ = {isa = PBXBuildFile; fileRef = 4C615717141A08F400BC86AD /* Network.png */; };\n+\t\t4C7F13291420A7EE0021D7CA /* refresh-3.icns in Resources */ = {isa = PBXBuildFile; fileRef = 4C7F13271420A7EE0021D7CA /* refresh-3.icns */; };\n+\t\t4C7F132A1420A7EE0021D7CA /* refresh-4.icns in Resources */ = {isa = PBXBuildFile; fileRef = 4C7F13281420A7EE0021D7CA /* refresh-4.icns */; };\n \t\t4C8B9D8C13D3AF3E003C96D3 /* GBDownloadOperation.m in Sources */ = {isa = PBXBuildFile; fileRef = 4C8B9D8B13D3AF3E003C96D3 /* GBDownloadOperation.m */; };\n \t\t4C8B9E4813D42F40003C96D3 /* GBContacts.m in Sources */ = {isa = PBXBuildFile; fileRef = 4C8B9E3213D42F40003C96D3 /* GBContacts.m */; };\n \t\t4C8B9E4B13D44953003C96D3 /* GBUploadOperation.m in Sources */ = {isa = PBXBuildFile; fileRef = 4C8B9E4A13D44953003C96D3 /* GBUploadOperation.m */; };\n@@ -276,6 +278,8 @@\n \t\t4C615711141A083500BC86AD /* Advanced.png */ = {isa = PBXFileReference; lastKnownFileType = image.png; path = Advanced.png; sourceTree = \"<group>\"; };\n \t\t4C615712141A083500BC86AD /* General.png */ = {isa = PBXFileReference; lastKnownFileType = image.png; path = General.png; sourceTree = \"<group>\"; };\n \t\t4C615717141A08F400BC86AD /* Network.png */ = {isa = PBXFileReference; lastKnownFileType = image.png; path = Network.png; sourceTree = \"<group>\"; };\n+\t\t4C7F13271420A7EE0021D7CA /* refresh-3.icns */ = {isa = PBXFileReference; lastKnownFileType = image.icns; path = \"refresh-3.icns\"; sourceTree = \"<group>\"; };\n+\t\t4C7F13281420A7EE0021D7CA /* refresh-4.icns */ = {isa = PBXFileReference; lastKnownFileType = image.icns; path = \"refresh-4.icns\"; sourceTree = \"<group>\"; };\n \t\t4C8B9D8A13D3AF3E003C96D3 /* GBDownloadOperation.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = GBDownloadOperation.h; sourceTree = \"<group>\"; };\n \t\t4C8B9D8B13D3AF3E003C96D3 /* GBDownloadOperation.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = GBDownloadOperation.m; sourceTree = \"<group>\"; };\n \t\t4C8B9E3113D42F3F003C96D3 /* GBContacts.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = GBContacts.h; sourceTree = \"<group>\"; };\n@@ -745,6 +749,8 @@\n \t\t\tisa = PBXGroup;\n \t\t\tchildren = (\n \t\t\t\t4C5724F8141A1332003BA9CC /* refresh-1.icns */,\n+\t\t\t\t4C7F13271420A7EE0021D7CA /* refresh-3.icns */,\n+\t\t\t\t4C7F13281420A7EE0021D7CA /* refresh-4.icns */,\n \t\t\t\t4C5724F9141A1332003BA9CC /* refresh-2.icns */,\n \t\t\t\t4C5724F0141A0E24003BA9CC /* process-1.icns */,\n \t\t\t\t4C5724F1141A0E24003BA9CC /* process-2.icns */,\n@@ -1308,6 +1314,8 @@\n \t\t\t\t4C5724FA141A1332003BA9CC /* refresh-1.icns in Resources */,\n \t\t\t\t4C5724FB141A1332003BA9CC /* refresh-2.icns in Resources */,\n \t\t\t\t4C02A6871420541600623D7E /* RecentChangeItem.xib in Resources */,\n+\t\t\t\t4C7F13291420A7EE0021D7CA /* refresh-3.icns in Resources */,\n+\t\t\t\t4C7F132A1420A7EE0021D7CA /* refresh-4.icns in Resources */,\n \t\t\t);\n \t\t\trunOnlyForDeploymentPostprocessing = 0;\n \t\t};\n@@ -1702,6 +1710,7 @@\n \t\t\t\tB5B7C72C141F68800003309D /* Release */,\n \t\t\t);\n \t\t\tdefaultConfigurationIsVisible = 0;\n+\t\t\tdefaultConfigurationName = Release;\n \t\t};\n /* End XCConfigurationList section */\n ",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox.xcodeproj/project.pbxproj",
      "deletions": 0,
      "additions": 9,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox.xcodeproj/project.pbxproj",
      "changes": 9,
      "filename": "GBox.xcodeproj/project.pbxproj",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/GBRecentChangesController.h\n+++ b/GBox/GBRecentChangesController.h\n@@ -15,7 +15,6 @@\n +(GBRecentChangesController*) sharedRecentChangesController;\n \n -(void)setMenu:(NSMenu*)menu;\n-\n-\n+-(NSProgressIndicator*)addChangedMenuItem:(NSString*)eventString;\n \n @end",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBRecentChangesController.h",
      "deletions": 2,
      "additions": 1,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBRecentChangesController.h",
      "changes": 3,
      "filename": "GBox/GBRecentChangesController.h",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/GBRecentChangesController.m\n+++ b/GBox/GBRecentChangesController.m\n@@ -33,95 +33,41 @@\n     menu = recentChangeMenu;\n }\n \n-/* Set up the custom views in the popup button menu. This method should be called whenever the baseURL changes.\n- In MainMenu.xib, the menu for the popup button is defined. There is one menu item with a tag of 1000 that is used as the prototype for the custom menu items. Each ImagePickerMenuItemView can contain 4 images. So we keep duplicating the prototype menu item until we have enough menu items for each image found in the directory specified by _baseURL. Duplicating the prototype menu allows us to reuse the target action wiring done in IB.\n- We need to rebuild this menu each time the _baseURL changes. To accomplish this, we set the tag of each dupicated prototype to 1001. This way we can easily find and remove them to start over.\n- */\n-- (void)setupImagesMenu {\n-\tNSMenuItem *menuItem;\n+-(NSProgressIndicator*)addChangedMenuItem:(NSString*)eventString{\n     \n-    // Look for existing ImagePickerMenuItemView menu items that are no longer valid and remove them.\n-\twhile ((menuItem = [menu itemWithTag:1001])) {\n-\t\t[menu removeItem:menuItem];\n-\t}\n \t\n     // Find the prototype menu item. We want to keep it as the prototype for future rebuilds so we don't want to actually use it. Instead, make it hidden so the user never sees it.\n-\tNSMenuItem *masterImagesMenuItem = [menu itemWithTag:1000];\n-\t[masterImagesMenuItem setHidden:YES];\n-\t/*\n-\t// Find all the entires in the _baseURL directory.\n-\tNSArray *fileURLS = [[NSFileManager defaultManager] contentsOfDirectoryAtURL:_baseURL includingPropertiesForKeys:[NSArray arrayWithObjects:NSURLIsDirectoryKey, NSURLTypeIdentifierKey, nil] options:0 error:nil];\n-\t*/\n-    GBDataFacility* dataFacility = [GBDataFacility sharedDataFacility];\n+\tNSMenuItem *masterMenuItem = [menu itemWithTag:1000];\n+\t[masterMenuItem setHidden:YES];\n+    NSMenuItem *changedItem = [masterMenuItem copy];\n+    NSViewController *viewController = [[NSViewController alloc] initWithNibName:@\"RecentChangeItem\" bundle:nil];\n+    \n+    NSMutableDictionary *menuData = [NSMutableDictionary dictionaryWithCapacity:1];\n+    [menuData setObject:eventString forKey:@\"eventString\"];\n+    viewController.representedObject = menuData;\n+    \n+    // Bind the custom view to the image URLs array.\n+    [viewController.view bind:@\"eventString\" toObject:viewController withKeyPath:@\"representedObject.eventString\" options:nil];\n+    \n+        // transform the duplicated menu item prototype to a proper custom instance\n+    [changedItem setRepresentedObject:viewController];\n+    [changedItem setView:viewController.view];\n+    [changedItem setTag:1001]; // set the tag to 1001 so we can remove this instance on rebuild (see above)\n+    [changedItem setHidden:NO];\n+    \n+    // Insert the custom menu item\n+    [menu insertItem:changedItem atIndex:0];\n+    return [viewController.view valueForKey:@\"progress\"];\n+}\n \n-    NSArray *mos = [dataFacility fetchTaskOfState:kGBStateWaiting];\n-    for(NSManagedObject* mo in mos){\n-        \n-    }\n-    // Only 4 images per menu item are allowed by the view. Use this index to keep track of that\n-\tNSInteger idx = 0;\n-    NSArray *fileURLS = [NSArray arrayWithObject:nil];\n-    // ImagePickerMenuItemView uses an array of URLS. This is that array.\n-    NSMutableArray *imageUrlArray;\n+-(void)clear{\n+    NSMenuItem *menuItem;\n     \n-    // Loop over each entry looking for image files\n-\tfor (NSURL *file in fileURLS) {\n-\t\tNSNumber *isDirectory = nil;\n-        // directories are obviously not images.\n-\t\t[file getResourceValue:&isDirectory forKey:NSURLIsDirectoryKey error:nil];\n-\t\tif (![isDirectory boolValue]) {\n-\t\t\tNSString *fileType = nil;\n-            \n-            // Is the file an image file? Use UTTypes to find out.\n-\t\t\t[file getResourceValue:&fileType forKey:NSURLTypeIdentifierKey error:nil];\n-\t\t\tif (UTTypeConformsTo( (CFStringRef)fileType, kUTTypeImage )) {\n-\t\t\t\tif\t(idx == 0) {\n-                    // Starting a new set of 4 images. Setup a new menu item and URL array\n-                    imageUrlArray = [NSMutableArray arrayWithCapacity:4];\n-                    \n-                    // Duplicate the prototype menu item\n-\t\t\t\t\tNSMenuItem *imagesMenuItem = [masterImagesMenuItem copy];\n-                    \n-                    // Load the custom view from its nib\n-\t\t\t\t\tNSViewController *viewController = [[NSViewController alloc] initWithNibName:@\"RecentChangeItem\" bundle:nil];\n-                    \n-                    /* Setup a mutable dictionary as the view controller's represeted object so we can bind the custom view to it.\n-                     */\n-                    NSMutableDictionary *pickerMenuData = [NSMutableDictionary dictionaryWithCapacity:2];\n-                    [pickerMenuData setObject:imageUrlArray forKey:@\"imageUrls\"];\n-                    [pickerMenuData setObject:[NSNull null] forKey:@\"selectedUrl\"]; // need a blank entry to start with\n-                    viewController.representedObject = pickerMenuData;\n-                    \n-                    // Bind the custom view to the image URLs array.\n-                    [viewController.view bind:@\"imageUrls\" toObject:viewController withKeyPath:@\"representedObject.imageUrls\" options:nil];\n-                    /* selectedImageUrl from the view is read only, so bind the data dictinary to the selectedImageUrl instead of the other way around.\n-                     */\n-                    [viewController.representedObject bind:@\"selectedUrl\" toObject:viewController.view withKeyPath:@\"selectedImageUrl\" options:nil];\n-                    \n-                    // transform the duplicated menu item prototype to a proper custom instance\n-                    [imagesMenuItem setRepresentedObject:viewController];\n-                    [imagesMenuItem setView:viewController.view];\n-                    [imagesMenuItem setTag:1001]; // set the tag to 1001 so we can remove this instance on rebuild (see above)\n-                    [imagesMenuItem setHidden:NO];\n-                    \n-                    // Insert the custom menu item\n-                    [menu insertItem:imagesMenuItem atIndex:[menu numberOfItems] - 2];\n-                    \n-                    // Cleanup memory\n-                    [imagesMenuItem release];\n-                    [viewController release];\n-\t\t\t\t}\n-\t\t\t\t\n-                /* Add the image URL to the mutable array stored in the view controller's representedObject dictionary. Since imageUrlArray is mutable, we can just modify it in place.\n-                 */\n-                [imageUrlArray addObject:file];\n-                \n-                // Update our index. We can only put 4 images per custom menu item. Reset after every fourth image file.\n-\t\t\t\tidx++;\n-\t\t\t\tif (idx > 3) idx = 0; // with a 0 based index, when idx > 3 we'll have completed 4 passes.\n-\t\t\t}\n-\t\t}\n+    // Look for existing ImagePickerMenuItemView menu items that are no longer valid and remove them.\n+\twhile ((menuItem = [menu itemWithTag:1001])) {\n+\t\t[menu removeItem:menuItem];\n \t}\n }\n \n+\n @end",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBRecentChangesController.m",
      "deletions": 83,
      "additions": 29,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBRecentChangesController.m",
      "changes": 112,
      "filename": "GBox/GBRecentChangesController.m",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/GBSyncController.m\n+++ b/GBox/GBSyncController.m\n@@ -190,8 +190,16 @@ static GBSyncController * shareSyncController = nil;\n                 break;\n             case 1:\n                 [statusItem setImage:[NSImage imageNamed:@\"refresh-2\"]];\n+                refreshCount= 2;\n+                break;\n+            case 2:\n+                [statusItem setImage:[NSImage imageNamed:@\"refresh-3\"]];\n+                refreshCount= 3;\n+                break;\n+            case 3:\n+                [statusItem setImage:[NSImage imageNamed:@\"refresh-4\"]];\n                 refreshCount= 0;\n-                break;                \n+                break;   \n             default:\n                 break;\n         }        \n@@ -240,7 +248,6 @@ static GBSyncController * shareSyncController = nil;\n     [[NSUserDefaults standardUserDefaults] synchronize];\n }\n \n-\n - (void)docChangeFeedFetchSucceed: (NSNotification *) aNotification {\n \tNSDictionary *userInfo = [aNotification userInfo];\n \tNSSet *changesEntries = [NSSet setWithArray: [aNotification object]];",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBSyncController.m",
      "deletions": 2,
      "additions": 9,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBSyncController.m",
      "changes": 11,
      "filename": "GBox/GBSyncController.m",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/GBTaskHandler.h\n+++ b/GBox/GBTaskHandler.h\n@@ -14,7 +14,7 @@\n @class GBFileSystemInfo;\n @class GBDownloadOperation;\n @class GBCollectionManager;\n-\n+@class GBRecentChangesController;\n struct PIArray {\n     int id;\n     NSTextField *filename;\n@@ -34,7 +34,8 @@ struct PIArray {\n     //while nsoperation built-in count always delay to count\n     NSInteger numInQueue;\n     NSInteger piList;\n-    \n+    GBRecentChangesController *recentChangesMenuController;\n+\n     NSDictionary* localInfoDic;\n     NSDictionary* localMD5Dic;\n     NSDictionary* localIdentifierDic;",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBTaskHandler.h",
      "deletions": 2,
      "additions": 3,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBTaskHandler.h",
      "changes": 5,
      "filename": "GBox/GBTaskHandler.h",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/GBTaskHandler.m\n+++ b/GBox/GBTaskHandler.m\n@@ -30,7 +30,7 @@\n #import \"GBUploadOperation.h\"\n \n #import \"GBFileSystemInfo.h\"\n-\n+#import \"GBRecentChangesController.h\"\n @implementation GBTaskHandler\n \n - (id)init\n@@ -49,7 +49,8 @@\n         \n         uploadingPaths = [[NSMutableSet alloc]init];\n         additionalIdentifierDic = [[NSMutableDictionary alloc]init];\n-        \n+        recentChangesMenuController = [GBRecentChangesController sharedRecentChangesController];\n+\n          NSNotificationCenter *nc = [NSNotificationCenter defaultCenter];\n          [nc addObserver:self\n                 selector:@selector(downloadFinished:) \n@@ -211,8 +212,9 @@\n     NSString* entryTitle = [[entry title] stringValue];\n \n     NSLog(@\"Collection %@ added on server.\",entryTitle);\n-    [self appendPISingle:[NSString stringWithFormat:@\"NewFolder:%@\",entryTitle] ];\n-\n+    [recentChangesMenuController addChangedMenuItem:\n+        [NSString stringWithFormat:@\"NewFolder:%@\",entryTitle] \n+     ];\n     NSArray* includingCollections = [collectionManager includingCollectionOfIdentifier:identifier];\n     if(includingCollections==nil||[includingCollections count]==0){\n         NSString* localExpandedpath = [GBUtility expandedPath:entryTitle];\n@@ -284,7 +286,6 @@\n     [dataFacility setState:kGBStateExecuting ofTaskID:taskID];\n     NSInteger eventCode = [[taskMO valueForKey:@\"eventCode\"] intValue];\n     NSString *operandA = [taskMO valueForKey:@\"operandA\"];\n-    \n     switch(eventCode){\n \n         case kGBServerFileUpdated:{\n@@ -348,7 +349,10 @@\n            \n \n             if(identifier!=nil&&[identifier length]>80){\n-                 [self appendPISingle:[NSString stringWithFormat:@\"FileUpdated:%@\",[path lastPathComponent]] ];\n+                [recentChangesMenuController addChangedMenuItem:\n+                    [NSString stringWithFormat:@\"FileUpdated:%@\",[path lastPathComponent]] \n+                 ];\n+\n                 NSError* error = nil;\n                 NSDictionary *fileInfo = [[NSFileManager defaultManager] attributesOfItemAtPath:path \n                                                                                          error:&error];\n@@ -436,7 +440,9 @@\n             \n             NSString* path = operandA;\n             NSString* fileName = [path lastPathComponent];   \n-            [self appendPISingle:[NSString stringWithFormat:@\"FileDeleted:%@\",fileName] ];\n+            [recentChangesMenuController addChangedMenuItem:\n+                [NSString stringWithFormat:@\"FileDeleted:%@\",fileName]      \n+             ];\n \n             NSString* identifierToDelete=nil;\n             if(identifier!=nil){\n@@ -509,8 +515,9 @@\n         case kGBLocalNewCollection:{\n             //kGBLocalNewCollection\n             NSString* path = operandA;\n-            [self appendPISingle:[NSString stringWithFormat:@\"NewFolder:%@\",[path lastPathComponent]] ];\n-\n+            [recentChangesMenuController addChangedMenuItem:\n+                [NSString stringWithFormat:@\"NewFolder:%@\",[path lastPathComponent]]\n+             ];\n             if(![path isEqualToString:[GBUtility rootPath]]){\n                 if([[NSFileManager defaultManager] fileExistsAtPath:path]){\n                     \n@@ -554,8 +561,9 @@\n             NSString *newName = [newPath lastPathComponent];\n             NSString* identifier = [GBUtility identifierForFileAtPath:newPath];;\n             if(identifier!=nil&&[identifier length]>80){\n-                [self appendPISingle:[NSString stringWithFormat:@\"Renamed:%@\",newName] ];\n-\n+                [recentChangesMenuController addChangedMenuItem:\n+                    [NSString stringWithFormat:@\"Renamed:%@\",newName] \n+                 ];\n                 GDataEntryDocBase *entry = [docListData entryForIdentifier:identifier];\n                 \n                 [docListData renameEntry:entry to:newName];\n@@ -586,8 +594,9 @@\n             \n             NSString* oldPath = operandA;\n             NSString* newPath = [taskMO valueForKey:@\"operandB\"];\n-            [self appendPISingle:[NSString stringWithFormat:@\"FileMoved:%@\",[newPath lastPathComponent]] ];\n-\n+            [recentChangesMenuController addChangedMenuItem:\n+                    [NSString stringWithFormat:@\"FileMoved:%@\",[newPath lastPathComponent]]    \n+             ];\n             if([[oldPath stringByDeletingLastPathComponent] length]!= [[GBUtility rootPath] length]){\n                 \n                 NSString* parentPath = [[oldPath stringByDeletingLastPathComponent] stringByAppendingString:@\"/\"];\n@@ -640,8 +649,9 @@\n         case kGBLocalAddEntryToCollection:{\n             NSString* path = operandA;\n             NSString* parentPath = [[path stringByDeletingLastPathComponent] stringByAppendingString:@\"/\"];\n-            [self appendPISingle:[NSString stringWithFormat:@\"ADD:%@ To %@\",[path lastPathComponent],[parentPath lastPathComponent]  ] ];\n-\n+            [recentChangesMenuController addChangedMenuItem:\n+                [NSString stringWithFormat:@\"ADD:%@ To %@\",[path lastPathComponent],[parentPath lastPathComponent]  ]         \n+             ];\n             NSString* parentIdentifier = [GBUtility identifierForFileAtPath:parentPath];\n             \n             NSString* entryIdentifier = [GBUtility identifierForFileAtPath:path];\n@@ -668,8 +678,9 @@\n             if(entryPath!=nil&&parentPaths!=nil&&[parentPaths count]!=0){\n                 NSString* anyParentPath = [parentPaths anyObject];\n \n-                [self appendPISingle:[NSString stringWithFormat:@\"ADD:%@ To %@\",fileName,[anyParentPath lastPathComponent]  ] ];\n-                \n+                [recentChangesMenuController addChangedMenuItem:\n+                        [NSString stringWithFormat:@\"ADD:%@ To %@\",fileName,[anyParentPath lastPathComponent]  ]                   \n+                            ];\n                 for(NSString* parentPath in parentPaths){\n                     [GBUtility cpFileAt:entryPath to:[NSString stringWithFormat:@\"%@/%@\",parentPath,fileName]];\n                 }\n@@ -706,7 +717,9 @@\n             if(entryPath!=nil&&parentPaths!=nil&&[parentPaths count]!=0){\n                 NSString* anyParentPath = [parentPaths anyObject];\n \n-                [self appendPISingle:[NSString stringWithFormat:@\"Remove:%@ From %#\",fileName,[anyParentPath lastPathComponent]  ] ];\n+                [recentChangesMenuController addChangedMenuItem:\n+                                    [NSString stringWithFormat:@\"Remove:%@ From %#\",fileName,[anyParentPath lastPathComponent]  \n+                                     ]];\n \n                 if([entryPathSet count]>1){\n                     for(NSString* parentPath in parentPaths){\n@@ -831,8 +844,14 @@\n     BOOL retryNeeded = [[userInfo valueForKey:@\"retryNeeded\"]boolValue];\n     [currentExecutingTasks removeObject:taskID];\n     if(retryNeeded){\n+       \n+        [uploadingPaths removeObject:[[dataFacility moForMOID:taskID]valueForKey:@\"operandA\"] ];\n         [dataFacility setState:kGBStateWaiting ofTaskID:taskID];\n     }else{\n+        NSString* errorReason = [userInfo valueForKey:@\"errorReason\"];\n+        if([errorReason isEqualToString:@\"InsufficientStorageQuota\"]){\n+            [GBUtility displayAlert:@\"Storage Insufficient\" format:@\"Please clean your unneccessary files on google docs or buy extra storage, file added now will not be uploaded\"];\n+        }\n         [dataFacility setState:kGBStateCancel ofTaskID:taskID];\n     }\n }\n@@ -951,9 +970,14 @@\n                                                                      path:path\n                                                                    taskID:[mo objectID]\n                                                                    option:option];\n+        NSProgressIndicator* indicator = [recentChangesMenuController addChangedMenuItem:[path lastPathComponent]];\n+        [indicator setHidden:NO];\n+        [indicator startAnimation:nil];\n+        [uploadOp setPI:indicator];\n         \n-        [self appendPIList:uploadOp];\n+        //[self appendPIList:uploadOp];\n         [opqueue addOperation:uploadOp];\n+\n         [uploadOp release];\n     }\n }\n@@ -991,7 +1015,10 @@\n         //in get stop action stop it\n         if (!isAllOperationPaused)\n         {\n-            [self appendPIList:downloadOp];\n+            //[self appendPIList:downloadOp];\n+            NSProgressIndicator* indicator = [recentChangesMenuController addChangedMenuItem:[[entry title]stringValue]];\n+            [indicator setHidden:NO];\n+            [downloadOp setPI:indicator];\n             [opqueue addOperation:downloadOp];\n             numInQueue++;\n         }",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBTaskHandler.m",
      "deletions": 20,
      "additions": 47,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBTaskHandler.m",
      "changes": 67,
      "filename": "GBox/GBTaskHandler.m",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/GBUploadOperation.m\n+++ b/GBox/GBUploadOperation.m\n@@ -370,13 +370,11 @@\n - (void)        ticket:(GDataServiceTicket *)ticket\n  hasDeliveredByteCount:(unsigned long long)numberOfBytesRead\n       ofTotalByteCount:(unsigned long long)dataLength {\n-    \n     //[mUploadProgressIndicator setMinValue:0.0];\n     //[mUploadProgressIndicator setMaxValue:(double)dataLength];\n     //[mUploadProgressIndicator setDoubleValue:(double)numberOfBytesRead];\n-    NSString *percentage = [NSString stringWithFormat:@\"Uploading...%d/%d\",numberOfBytesRead,dataLength];\n-    NSLog(percentage);\n-    \n+    //NSString *percentage = [NSString stringWithFormat:@\"Uploading...%d/%d\",numberOfBytesRead,dataLength];\n+    //NSLog(percentage);\n     [uploadPI setMinValue:0.0];\n     [uploadPI setMaxValue:(double)dataLength];\n     [uploadPI setDoubleValue:(double)numberOfBytesRead];\n@@ -403,9 +401,20 @@\n                                                           userInfo:[NSDictionary dictionaryWithObjectsAndKeys:[entry identifier], @\"kGBEntryIdentifier\",nil]];\n                 \n     } else {\n+        NSLog(@\"Upload failed: %@\",error);\n+        NSDictionary* errorUserInfo = [error userInfo];\n+        NSString* localizedReason = [error localizedFailureReason];\n+        NSLog(localizedReason);\n+        if([[error localizedFailureReason]isEqualToString:@\"(GData error quotaExceeded: \\\"Insufficient storage quota\\\")\"]){\n+            [[NSNotificationCenter defaultCenter] postNotificationName:kGBUploadFailed \n+                                                                object:taskID \n+                                                              userInfo:[NSDictionary dictionaryWithObjectsAndKeys:[NSNumber numberWithBool:NO],@\"retryNeeded\",@\"InsufficientStorageQuota\",@\"errorReason\",nil]];\n+            NSLog(@\"Insufficient Storage Quota\");\n+        }else{\n         [[NSNotificationCenter defaultCenter] postNotificationName:kGBUploadFailed \n                                                             object:taskID \n-                                                          userInfo:[NSDictionary dictionaryWithObjectsAndKeys:YES,@\"retryNeeded\",nil]];\n+                                                          userInfo:[NSDictionary dictionaryWithObjectsAndKeys:[NSNumber numberWithBool:YES],@\"retryNeeded\",nil]];\n+        }\n     }\n     \n \n@@ -445,7 +454,7 @@\n }\n - (void) setPI:(NSProgressIndicator *)pi\n {\n-    uploadPI = pi;\n+    uploadPI = [pi retain];\n }\n - (NSProgressIndicator *) getPI\n {",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBUploadOperation.m",
      "deletions": 6,
      "additions": 15,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBUploadOperation.m",
      "changes": 21,
      "filename": "GBox/GBUploadOperation.m",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/GBoxAppDelegate.m\n+++ b/GBox/GBoxAppDelegate.m\n@@ -59,7 +59,15 @@\n     //[self redirectNSLogToDocumentFolder];\n     recentChangesMenuController = [GBRecentChangesController sharedRecentChangesController];\n     [recentChangesMenuController setMenu:recentChangeMenu];\n-    \n+    /*\n+    for(int i =0 ; i<100; i++){\n+        NSProgressIndicator* pi = [recentChangesMenuController addChangedMenuItem:[NSString stringWithFormat: @\"Testing the menu item %d.\",i]];\n+        [pi setHidden:NO];\n+        [pi setMinValue:0];\n+        [pi setMaxValue:100];\n+        [pi setDoubleValue:i];\n+    }\n+    */\n     NSNotificationCenter *nc = [NSNotificationCenter defaultCenter];\n     [nc addObserver:self\n            selector:@selector(authenticationSucceed:) \n@@ -269,7 +277,6 @@\n      */\n     //[self redirectNSLogToDocumentFolder];\n     \n-     \n } \n \n ",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBoxAppDelegate.m",
      "deletions": 2,
      "additions": 9,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/GBoxAppDelegate.m",
      "changes": 11,
      "filename": "GBox/GBoxAppDelegate.m",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/MainMenu.xib\n+++ b/GBox/MainMenu.xib\n@@ -1354,6 +1354,7 @@\n \t\t\t\t\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n \t\t\t\t\t\t\t\t<object class=\"NSMenuItem\" id=\"63186475\">\n \t\t\t\t\t\t\t\t\t<reference key=\"NSMenu\" ref=\"508624107\"/>\n+\t\t\t\t\t\t\t\t\t<bool key=\"NSIsHidden\">YES</bool>\n \t\t\t\t\t\t\t\t\t<string key=\"NSTitle\">file1</string>\n \t\t\t\t\t\t\t\t\t<string key=\"NSKeyEquiv\"/>\n \t\t\t\t\t\t\t\t\t<int key=\"NSMnemonicLoc\">2147483647</int>",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/MainMenu.xib",
      "deletions": 0,
      "additions": 1,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/MainMenu.xib",
      "changes": 1,
      "filename": "GBox/MainMenu.xib",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/RecentChangeItem.xib\n+++ b/GBox/RecentChangeItem.xib\n@@ -50,53 +50,38 @@\n \t\t\t\t\t\t<int key=\"NSvFlags\">268</int>\n \t\t\t\t\t\t<object class=\"NSMutableArray\" key=\"NSSubviews\">\n \t\t\t\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n-\t\t\t\t\t\t\t<object class=\"NSProgressIndicator\" id=\"813625013\">\n-\t\t\t\t\t\t\t\t<reference key=\"NSNextResponder\" ref=\"521976611\"/>\n-\t\t\t\t\t\t\t\t<int key=\"NSvFlags\">1292</int>\n-\t\t\t\t\t\t\t\t<object class=\"NSPSMatrix\" key=\"NSDrawMatrix\"/>\n-\t\t\t\t\t\t\t\t<string key=\"NSFrame\">{{10, 6}, {328, 12}}</string>\n-\t\t\t\t\t\t\t\t<reference key=\"NSSuperview\" ref=\"521976611\"/>\n-\t\t\t\t\t\t\t\t<reference key=\"NSWindow\"/>\n-\t\t\t\t\t\t\t\t<reference key=\"NSNextKeyView\"/>\n-\t\t\t\t\t\t\t\t<string key=\"NSReuseIdentifierKey\">_NS:1582</string>\n-\t\t\t\t\t\t\t\t<int key=\"NSpiFlags\">16650</int>\n-\t\t\t\t\t\t\t\t<double key=\"NSMaxValue\">100</double>\n-\t\t\t\t\t\t\t</object>\n-\t\t\t\t\t\t\t<object class=\"NSTextField\" id=\"355166959\">\n+\t\t\t\t\t\t\t<object class=\"NSTextField\" id=\"1019650675\">\n \t\t\t\t\t\t\t\t<reference key=\"NSNextResponder\" ref=\"521976611\"/>\n \t\t\t\t\t\t\t\t<int key=\"NSvFlags\">268</int>\n-\t\t\t\t\t\t\t\t<string key=\"NSFrame\">{{11, 20}, {326, 22}}</string>\n+\t\t\t\t\t\t\t\t<string key=\"NSFrame\">{{8, 26}, {332, 17}}</string>\n \t\t\t\t\t\t\t\t<reference key=\"NSSuperview\" ref=\"521976611\"/>\n-\t\t\t\t\t\t\t\t<reference key=\"NSWindow\"/>\n \t\t\t\t\t\t\t\t<reference key=\"NSNextKeyView\" ref=\"813625013\"/>\n-\t\t\t\t\t\t\t\t<string key=\"NSReuseIdentifierKey\">_NS:248</string>\n+\t\t\t\t\t\t\t\t<string key=\"NSReuseIdentifierKey\">_NS:3936</string>\n \t\t\t\t\t\t\t\t<bool key=\"NSEnabled\">YES</bool>\n-\t\t\t\t\t\t\t\t<object class=\"NSTextFieldCell\" key=\"NSCell\" id=\"692777820\">\n-\t\t\t\t\t\t\t\t\t<int key=\"NSCellFlags\">-2075001280</int>\n+\t\t\t\t\t\t\t\t<object class=\"NSTextFieldCell\" key=\"NSCell\" id=\"351232849\">\n+\t\t\t\t\t\t\t\t\t<int key=\"NSCellFlags\">68288064</int>\n \t\t\t\t\t\t\t\t\t<int key=\"NSCellFlags2\">272630784</int>\n-\t\t\t\t\t\t\t\t\t<string key=\"NSContents\"/>\n+\t\t\t\t\t\t\t\t\t<string key=\"NSContents\">Label</string>\n \t\t\t\t\t\t\t\t\t<object class=\"NSFont\" key=\"NSSupport\">\n \t\t\t\t\t\t\t\t\t\t<string key=\"NSName\">LucidaGrande</string>\n \t\t\t\t\t\t\t\t\t\t<double key=\"NSSize\">13</double>\n \t\t\t\t\t\t\t\t\t\t<int key=\"NSfFlags\">1044</int>\n \t\t\t\t\t\t\t\t\t</object>\n-\t\t\t\t\t\t\t\t\t<string key=\"NSCellIdentifier\">_NS:248</string>\n-\t\t\t\t\t\t\t\t\t<reference key=\"NSControlView\" ref=\"355166959\"/>\n-\t\t\t\t\t\t\t\t\t<bool key=\"NSDrawsBackground\">YES</bool>\n-\t\t\t\t\t\t\t\t\t<int key=\"NSTextBezelStyle\">1</int>\n+\t\t\t\t\t\t\t\t\t<string key=\"NSCellIdentifier\">_NS:3936</string>\n+\t\t\t\t\t\t\t\t\t<reference key=\"NSControlView\" ref=\"1019650675\"/>\n \t\t\t\t\t\t\t\t\t<object class=\"NSColor\" key=\"NSBackgroundColor\">\n \t\t\t\t\t\t\t\t\t\t<int key=\"NSColorSpace\">6</int>\n \t\t\t\t\t\t\t\t\t\t<string key=\"NSCatalogName\">System</string>\n-\t\t\t\t\t\t\t\t\t\t<string key=\"NSColorName\">textBackgroundColor</string>\n+\t\t\t\t\t\t\t\t\t\t<string key=\"NSColorName\">controlColor</string>\n \t\t\t\t\t\t\t\t\t\t<object class=\"NSColor\" key=\"NSColor\">\n \t\t\t\t\t\t\t\t\t\t\t<int key=\"NSColorSpace\">3</int>\n-\t\t\t\t\t\t\t\t\t\t\t<bytes key=\"NSWhite\">MQA</bytes>\n+\t\t\t\t\t\t\t\t\t\t\t<bytes key=\"NSWhite\">MC42NjY2NjY2NjY3AA</bytes>\n \t\t\t\t\t\t\t\t\t\t</object>\n \t\t\t\t\t\t\t\t\t</object>\n \t\t\t\t\t\t\t\t\t<object class=\"NSColor\" key=\"NSTextColor\">\n \t\t\t\t\t\t\t\t\t\t<int key=\"NSColorSpace\">6</int>\n \t\t\t\t\t\t\t\t\t\t<string key=\"NSCatalogName\">System</string>\n-\t\t\t\t\t\t\t\t\t\t<string key=\"NSColorName\">textColor</string>\n+\t\t\t\t\t\t\t\t\t\t<string key=\"NSColorName\">controlTextColor</string>\n \t\t\t\t\t\t\t\t\t\t<object class=\"NSColor\" key=\"NSColor\">\n \t\t\t\t\t\t\t\t\t\t\t<int key=\"NSColorSpace\">3</int>\n \t\t\t\t\t\t\t\t\t\t\t<bytes key=\"NSWhite\">MAA</bytes>\n@@ -104,18 +89,28 @@\n \t\t\t\t\t\t\t\t\t</object>\n \t\t\t\t\t\t\t\t</object>\n \t\t\t\t\t\t\t</object>\n+\t\t\t\t\t\t\t<object class=\"NSProgressIndicator\" id=\"813625013\">\n+\t\t\t\t\t\t\t\t<reference key=\"NSNextResponder\" ref=\"521976611\"/>\n+\t\t\t\t\t\t\t\t<int key=\"NSvFlags\">1292</int>\n+\t\t\t\t\t\t\t\t<object class=\"NSPSMatrix\" key=\"NSDrawMatrix\"/>\n+\t\t\t\t\t\t\t\t<string key=\"NSFrame\">{{10, 6}, {328, 12}}</string>\n+\t\t\t\t\t\t\t\t<reference key=\"NSSuperview\" ref=\"521976611\"/>\n+\t\t\t\t\t\t\t\t<reference key=\"NSNextKeyView\"/>\n+\t\t\t\t\t\t\t\t<bool key=\"NSViewCanDrawConcurrently\">YES</bool>\n+\t\t\t\t\t\t\t\t<string key=\"NSReuseIdentifierKey\">_NS:1582</string>\n+\t\t\t\t\t\t\t\t<int key=\"NSpiFlags\">16648</int>\n+\t\t\t\t\t\t\t\t<double key=\"NSMaxValue\">100</double>\n+\t\t\t\t\t\t\t</object>\n \t\t\t\t\t\t</object>\n \t\t\t\t\t\t<string key=\"NSFrameSize\">{348, 48}</string>\n \t\t\t\t\t\t<reference key=\"NSSuperview\" ref=\"1005\"/>\n-\t\t\t\t\t\t<reference key=\"NSWindow\"/>\n-\t\t\t\t\t\t<reference key=\"NSNextKeyView\" ref=\"355166959\"/>\n+\t\t\t\t\t\t<reference key=\"NSNextKeyView\" ref=\"1019650675\"/>\n \t\t\t\t\t\t<string key=\"NSReuseIdentifierKey\">_NS:499</string>\n \t\t\t\t\t\t<string key=\"NSClassName\">NSView</string>\n \t\t\t\t\t</object>\n \t\t\t\t</object>\n \t\t\t\t<string key=\"NSFrameSize\">{348, 48}</string>\n \t\t\t\t<reference key=\"NSSuperview\"/>\n-\t\t\t\t<reference key=\"NSWindow\"/>\n \t\t\t\t<reference key=\"NSNextKeyView\" ref=\"521976611\"/>\n \t\t\t\t<string key=\"NSClassName\">RecentChangeItemView</string>\n \t\t\t</object>\n@@ -133,19 +128,19 @@\n \t\t\t\t</object>\n \t\t\t\t<object class=\"IBConnectionRecord\">\n \t\t\t\t\t<object class=\"IBOutletConnection\" key=\"connection\">\n-\t\t\t\t\t\t<string key=\"label\">text</string>\n+\t\t\t\t\t\t<string key=\"label\">progress</string>\n \t\t\t\t\t\t<reference key=\"source\" ref=\"1005\"/>\n-\t\t\t\t\t\t<reference key=\"destination\" ref=\"355166959\"/>\n+\t\t\t\t\t\t<reference key=\"destination\" ref=\"813625013\"/>\n \t\t\t\t\t</object>\n-\t\t\t\t\t<int key=\"connectionID\">9</int>\n+\t\t\t\t\t<int key=\"connectionID\">11</int>\n \t\t\t\t</object>\n \t\t\t\t<object class=\"IBConnectionRecord\">\n \t\t\t\t\t<object class=\"IBOutletConnection\" key=\"connection\">\n-\t\t\t\t\t\t<string key=\"label\">progress</string>\n+\t\t\t\t\t\t<string key=\"label\">text</string>\n \t\t\t\t\t\t<reference key=\"source\" ref=\"1005\"/>\n-\t\t\t\t\t\t<reference key=\"destination\" ref=\"813625013\"/>\n+\t\t\t\t\t\t<reference key=\"destination\" ref=\"1019650675\"/>\n \t\t\t\t\t</object>\n-\t\t\t\t\t<int key=\"connectionID\">11</int>\n+\t\t\t\t\t<int key=\"connectionID\">14</int>\n \t\t\t\t</object>\n \t\t\t</object>\n \t\t\t<object class=\"IBMutableOrderedSet\" key=\"objectRecords\">\n@@ -191,28 +186,28 @@\n \t\t\t\t\t\t<object class=\"NSMutableArray\" key=\"children\">\n \t\t\t\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n \t\t\t\t\t\t\t<reference ref=\"813625013\"/>\n-\t\t\t\t\t\t\t<reference ref=\"355166959\"/>\n+\t\t\t\t\t\t\t<reference ref=\"1019650675\"/>\n \t\t\t\t\t\t</object>\n \t\t\t\t\t\t<reference key=\"parent\" ref=\"1005\"/>\n \t\t\t\t\t</object>\n \t\t\t\t\t<object class=\"IBObjectRecord\">\n-\t\t\t\t\t\t<int key=\"objectID\">3</int>\n-\t\t\t\t\t\t<reference key=\"object\" ref=\"355166959\"/>\n+\t\t\t\t\t\t<int key=\"objectID\">7</int>\n+\t\t\t\t\t\t<reference key=\"object\" ref=\"813625013\"/>\n+\t\t\t\t\t\t<reference key=\"parent\" ref=\"521976611\"/>\n+\t\t\t\t\t</object>\n+\t\t\t\t\t<object class=\"IBObjectRecord\">\n+\t\t\t\t\t\t<int key=\"objectID\">12</int>\n+\t\t\t\t\t\t<reference key=\"object\" ref=\"1019650675\"/>\n \t\t\t\t\t\t<object class=\"NSMutableArray\" key=\"children\">\n \t\t\t\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n-\t\t\t\t\t\t\t<reference ref=\"692777820\"/>\n+\t\t\t\t\t\t\t<reference ref=\"351232849\"/>\n \t\t\t\t\t\t</object>\n \t\t\t\t\t\t<reference key=\"parent\" ref=\"521976611\"/>\n \t\t\t\t\t</object>\n \t\t\t\t\t<object class=\"IBObjectRecord\">\n-\t\t\t\t\t\t<int key=\"objectID\">4</int>\n-\t\t\t\t\t\t<reference key=\"object\" ref=\"692777820\"/>\n-\t\t\t\t\t\t<reference key=\"parent\" ref=\"355166959\"/>\n-\t\t\t\t\t</object>\n-\t\t\t\t\t<object class=\"IBObjectRecord\">\n-\t\t\t\t\t\t<int key=\"objectID\">7</int>\n-\t\t\t\t\t\t<reference key=\"object\" ref=\"813625013\"/>\n-\t\t\t\t\t\t<reference key=\"parent\" ref=\"521976611\"/>\n+\t\t\t\t\t\t<int key=\"objectID\">13</int>\n+\t\t\t\t\t\t<reference key=\"object\" ref=\"351232849\"/>\n+\t\t\t\t\t\t<reference key=\"parent\" ref=\"1019650675\"/>\n \t\t\t\t\t</object>\n \t\t\t\t</object>\n \t\t\t</object>\n@@ -224,9 +219,9 @@\n \t\t\t\t\t<string>-2.IBPluginDependency</string>\n \t\t\t\t\t<string>-3.IBPluginDependency</string>\n \t\t\t\t\t<string>1.IBPluginDependency</string>\n+\t\t\t\t\t<string>12.IBPluginDependency</string>\n+\t\t\t\t\t<string>13.IBPluginDependency</string>\n \t\t\t\t\t<string>2.IBPluginDependency</string>\n-\t\t\t\t\t<string>3.IBPluginDependency</string>\n-\t\t\t\t\t<string>4.IBPluginDependency</string>\n \t\t\t\t\t<string>7.IBPluginDependency</string>\n \t\t\t\t</object>\n \t\t\t\t<object class=\"NSMutableArray\" key=\"dict.values\">\n@@ -253,53 +248,9 @@\n \t\t\t\t<reference key=\"dict.values\" ref=\"0\"/>\n \t\t\t</object>\n \t\t\t<nil key=\"sourceID\"/>\n-\t\t\t<int key=\"maxID\">11</int>\n-\t\t</object>\n-\t\t<object class=\"IBClassDescriber\" key=\"IBDocument.Classes\">\n-\t\t\t<object class=\"NSMutableArray\" key=\"referencedPartialClassDescriptions\">\n-\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n-\t\t\t\t<object class=\"IBPartialClassDescription\">\n-\t\t\t\t\t<string key=\"className\">RecentChangeItemView</string>\n-\t\t\t\t\t<string key=\"superclassName\">NSView</string>\n-\t\t\t\t\t<object class=\"NSMutableDictionary\" key=\"outlets\">\n-\t\t\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n-\t\t\t\t\t\t<object class=\"NSArray\" key=\"dict.sortedKeys\">\n-\t\t\t\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n-\t\t\t\t\t\t\t<string>progress</string>\n-\t\t\t\t\t\t\t<string>text</string>\n-\t\t\t\t\t\t</object>\n-\t\t\t\t\t\t<object class=\"NSMutableArray\" key=\"dict.values\">\n-\t\t\t\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n-\t\t\t\t\t\t\t<string>NSProgressIndicator</string>\n-\t\t\t\t\t\t\t<string>NSTextField</string>\n-\t\t\t\t\t\t</object>\n-\t\t\t\t\t</object>\n-\t\t\t\t\t<object class=\"NSMutableDictionary\" key=\"toOneOutletInfosByName\">\n-\t\t\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n-\t\t\t\t\t\t<object class=\"NSArray\" key=\"dict.sortedKeys\">\n-\t\t\t\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n-\t\t\t\t\t\t\t<string>progress</string>\n-\t\t\t\t\t\t\t<string>text</string>\n-\t\t\t\t\t\t</object>\n-\t\t\t\t\t\t<object class=\"NSMutableArray\" key=\"dict.values\">\n-\t\t\t\t\t\t\t<bool key=\"EncodedWithXMLCoder\">YES</bool>\n-\t\t\t\t\t\t\t<object class=\"IBToOneOutletInfo\">\n-\t\t\t\t\t\t\t\t<string key=\"name\">progress</string>\n-\t\t\t\t\t\t\t\t<string key=\"candidateClassName\">NSProgressIndicator</string>\n-\t\t\t\t\t\t\t</object>\n-\t\t\t\t\t\t\t<object class=\"IBToOneOutletInfo\">\n-\t\t\t\t\t\t\t\t<string key=\"name\">text</string>\n-\t\t\t\t\t\t\t\t<string key=\"candidateClassName\">NSTextField</string>\n-\t\t\t\t\t\t\t</object>\n-\t\t\t\t\t\t</object>\n-\t\t\t\t\t</object>\n-\t\t\t\t\t<object class=\"IBClassDescriptionSource\" key=\"sourceIdentifier\">\n-\t\t\t\t\t\t<string key=\"majorKey\">IBProjectSource</string>\n-\t\t\t\t\t\t<string key=\"minorKey\">./Classes/RecentChangeItemView.h</string>\n-\t\t\t\t\t</object>\n-\t\t\t\t</object>\n-\t\t\t</object>\n+\t\t\t<int key=\"maxID\">14</int>\n \t\t</object>\n+\t\t<object class=\"IBClassDescriber\" key=\"IBDocument.Classes\"/>\n \t\t<int key=\"IBDocument.localizationMode\">0</int>\n \t\t<string key=\"IBDocument.TargetRuntimeIdentifier\">IBCocoaFramework</string>\n \t\t<object class=\"NSMutableDictionary\" key=\"IBDocument.PluginDeclaredDevelopmentDependencies\">",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/RecentChangeItem.xib",
      "deletions": 95,
      "additions": 46,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/RecentChangeItem.xib",
      "changes": 141,
      "filename": "GBox/RecentChangeItem.xib",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/RecentChangeItemView.h\n+++ b/GBox/RecentChangeItemView.h\n@@ -9,13 +9,13 @@\n #import <Cocoa/Cocoa.h>\n \n @interface RecentChangeItemView : NSView {\n-    NSTextField *text;\n-    IBOutlet NSProgressIndicator *progress;\n-    \n-    \n-    \n+    IBOutlet NSProgressIndicator *_progress;\n+    NSString* _eventString;\n+\n+    IBOutlet NSTextField *text;\n }\n \n-@property (assign) IBOutlet NSTextField *text;\n+@property (nonatomic, retain) NSString *eventString;\n+@property (nonatomic, retain) NSProgressIndicator *progress;\n \n @end",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/RecentChangeItemView.h",
      "deletions": 6,
      "additions": 6,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/RecentChangeItemView.h",
      "changes": 12,
      "filename": "GBox/RecentChangeItemView.h",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    },
    {
      "patch": "--- a/GBox/RecentChangeItemView.m\n+++ b/GBox/RecentChangeItemView.m\n@@ -9,13 +9,23 @@\n #import \"RecentChangeItemView.h\"\n \n @implementation RecentChangeItemView\n-@synthesize text;\n+@synthesize progress =_progress;\n+\n+-(void)setEventString:(NSString *)eventString{\n+    _eventString = eventString;\n+    [text setStringValue:eventString];\n+    [_progress setHidden:YES];\n+}\n+-(NSString*)eventString{\n+    return _eventString;\n+}\n \n - (id)initWithFrame:(NSRect)frame\n {\n     self = [super initWithFrame:frame];\n     if (self) {\n         // Initialization code here.\n+        \n     }\n     \n     return self;",
      "status": "modified",
      "raw_url": "https://github.com/theplant/GBox/raw/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/RecentChangeItemView.m",
      "deletions": 1,
      "additions": 11,
      "blob_url": "https://github.com/theplant/GBox/blob/0c26335ce32ccc151b19571ecd5d64282946e667/GBox/RecentChangeItemView.m",
      "changes": 12,
      "filename": "GBox/RecentChangeItemView.m",
      "sha": "0c26335ce32ccc151b19571ecd5d64282946e667"
    }
  ],
  "stats": {
    "deletions": 219,
    "additions": 186,
    "total": 405
  },
  "parents": [
    {
      "sha": "fb903087038297ed3af4a2aee51fb0742310264b",
      "url": "https://api.github.com/repos/theplant/GBox/commits/fb903087038297ed3af4a2aee51fb0742310264b"
    }
  ],
  "sha": "0c26335ce32ccc151b19571ecd5d64282946e667",
  "commit": {
    "tree": {
      "sha": "ff93f1127299830f1915c0396f9e0e608abc0faf",
      "url": "https://api.github.com/repos/theplant/GBox/git/trees/ff93f1127299830f1915c0396f9e0e608abc0faf"
    },
    "message": "Recent change works, and fix problem in insufficent storage caused crash.",
    "committer": {
      "date": "2011-09-16T07:56:11-07:00",
      "name": "Xiaoyi Chen",
      "email": "xiaoyi.chen@hotmail.com"
    },
    "author": {
      "date": "2011-09-16T07:56:11-07:00",
      "name": "Xiaoyi Chen",
      "email": "xiaoyi.chen@hotmail.com"
    },
    "url": "https://api.github.com/repos/theplant/GBox/git/commits/0c26335ce32ccc151b19571ecd5d64282946e667"
  },
  "url": "https://api.github.com/repos/theplant/GBox/commits/0c26335ce32ccc151b19571ecd5d64282946e667"
}
