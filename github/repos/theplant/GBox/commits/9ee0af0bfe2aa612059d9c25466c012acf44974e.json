{
  "committer": {
    "avatar_url": "https://secure.gravatar.com/avatar/38eb4e6b823b7e406e11de34be7fe61d?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png",
    "id": 877966,
    "url": "https://api.github.com/users/chenxiaoyi",
    "login": "chenxiaoyi"
  },
  "author": {
    "avatar_url": "https://secure.gravatar.com/avatar/38eb4e6b823b7e406e11de34be7fe61d?d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png",
    "id": 877966,
    "url": "https://api.github.com/users/chenxiaoyi",
    "login": "chenxiaoyi"
  },
  "files": [
    {
      "patch": "--- a/GBox.xcodeproj/project.pbxproj\n+++ b/GBox.xcodeproj/project.pbxproj\n@@ -186,6 +186,11 @@\n \t\t4CE5081113C1FE22000AAA69 /* SenTestingKit.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 4CE5081013C1FE22000AAA69 /* SenTestingKit.framework */; settings = {ATTRIBUTES = (Weak, ); }; };\n \t\t4CE5095F13C20398000AAA69 /* GBDocListData.m in Sources */ = {isa = PBXBuildFile; fileRef = 4CE5095E13C20398000AAA69 /* GBDocListData.m */; };\n \t\t4CF0A2E813DE5E030019D55B /* GBMOModel.xcdatamodeld in Sources */ = {isa = PBXBuildFile; fileRef = 4CF0A2E613DE5E030019D55B /* GBMOModel.xcdatamodeld */; };\n+\t\tB5B7C71E141F68800003309D /* SenTestingKit.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 4CE5081013C1FE22000AAA69 /* SenTestingKit.framework */; };\n+\t\tB5B7C71F141F68800003309D /* Cocoa.framework in Frameworks */ = {isa = PBXBuildFile; fileRef = 4C1FEDB113BE3A7700679BD7 /* Cocoa.framework */; };\n+\t\tB5B7C725141F68800003309D /* InfoPlist.strings in Resources */ = {isa = PBXBuildFile; fileRef = B5B7C723141F68800003309D /* InfoPlist.strings */; };\n+\t\tB5B7C727141F68800003309D /* GBoxTests.h in Resources */ = {isa = PBXBuildFile; fileRef = B5B7C726141F68800003309D /* GBoxTests.h */; };\n+\t\tB5B7C729141F68800003309D /* GBoxTests.m in Sources */ = {isa = PBXBuildFile; fileRef = B5B7C728141F68800003309D /* GBoxTests.m */; };\n \t\tCF3EA1A314074C1800A19644 /* statusicon2.icns in Resources */ = {isa = PBXBuildFile; fileRef = CF3EA1A214074C1800A19644 /* statusicon2.icns */; };\n \t\tCF46C10C13D7BFCA00C5A5DE /* StartUpController.m in Sources */ = {isa = PBXBuildFile; fileRef = CF46C10B13D7BFCA00C5A5DE /* StartUpController.m */; };\n \t\tCF9BF16113CC32A500D5691F /* AccountModel.m in Sources */ = {isa = PBXBuildFile; fileRef = CF9BF16013CC32A500D5691F /* AccountModel.m */; };\n@@ -198,6 +203,16 @@\n \t\tCFFF80D013F4C64800F2EEAA /* GBCrashReport.m in Sources */ = {isa = PBXBuildFile; fileRef = CFFF80CF13F4C64800F2EEAA /* GBCrashReport.m */; };\n /* End PBXBuildFile section */\n \n+/* Begin PBXContainerItemProxy section */\n+\t\tB5B7C731141F71370003309D /* PBXContainerItemProxy */ = {\n+\t\t\tisa = PBXContainerItemProxy;\n+\t\t\tcontainerPortal = 4C1FEDA413BE3A7700679BD7 /* Project object */;\n+\t\t\tproxyType = 1;\n+\t\t\tremoteGlobalIDString = 4C1FEDAC13BE3A7700679BD7;\n+\t\t\tremoteInfo = GBox;\n+\t\t};\n+/* End PBXContainerItemProxy section */\n+\n /* Begin PBXFileReference section */\n \t\t144754B213D40DAA000CE1A3 /* GBoxNotify.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = GBoxNotify.h; sourceTree = \"<group>\"; };\n \t\t144754B313D40DAA000CE1A3 /* GBoxNotify.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = GBoxNotify.m; sourceTree = \"<group>\"; };\n@@ -539,6 +554,12 @@\n \t\t4CE5095D13C20398000AAA69 /* GBDocListData.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = GBDocListData.h; sourceTree = \"<group>\"; };\n \t\t4CE5095E13C20398000AAA69 /* GBDocListData.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = GBDocListData.m; sourceTree = \"<group>\"; };\n \t\t4CF0A2E713DE5E030019D55B /* GBMOModel.xcdatamodel */ = {isa = PBXFileReference; lastKnownFileType = wrapper.xcdatamodel; path = GBMOModel.xcdatamodel; sourceTree = \"<group>\"; };\n+\t\tB5B7C71D141F68800003309D /* GBoxTests.octest */ = {isa = PBXFileReference; explicitFileType = wrapper.cfbundle; includeInIndex = 0; path = GBoxTests.octest; sourceTree = BUILT_PRODUCTS_DIR; };\n+\t\tB5B7C722141F68800003309D /* GBoxTests-Info.plist */ = {isa = PBXFileReference; lastKnownFileType = text.plist.xml; path = \"GBoxTests-Info.plist\"; sourceTree = \"<group>\"; };\n+\t\tB5B7C724141F68800003309D /* en */ = {isa = PBXFileReference; lastKnownFileType = text.plist.strings; name = en; path = en.lproj/InfoPlist.strings; sourceTree = \"<group>\"; };\n+\t\tB5B7C726141F68800003309D /* GBoxTests.h */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.c.h; path = GBoxTests.h; sourceTree = \"<group>\"; };\n+\t\tB5B7C728141F68800003309D /* GBoxTests.m */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.c.objc; path = GBoxTests.m; sourceTree = \"<group>\"; };\n+\t\tB5B7C72A141F68800003309D /* GBoxTests-Prefix.pch */ = {isa = PBXFileReference; lastKnownFileType = sourcecode.c.h; path = \"GBoxTests-Prefix.pch\"; sourceTree = \"<group>\"; };\n \t\tCF3EA1A214074C1800A19644 /* statusicon2.icns */ = {isa = PBXFileReference; lastKnownFileType = image.icns; path = statusicon2.icns; sourceTree = \"<group>\"; };\n \t\tCF46C10A13D7BFCA00C5A5DE /* StartUpController.h */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.h; path = StartUpController.h; sourceTree = \"<group>\"; };\n \t\tCF46C10B13D7BFCA00C5A5DE /* StartUpController.m */ = {isa = PBXFileReference; fileEncoding = 4; lastKnownFileType = sourcecode.c.objc; path = StartUpController.m; sourceTree = \"<group>\"; };\n@@ -576,6 +597,15 @@\n \t\t\t);\n \t\t\trunOnlyForDeploymentPostprocessing = 0;\n \t\t};\n+\t\tB5B7C719141F68800003309D /* Frameworks */ = {\n+\t\t\tisa = PBXFrameworksBuildPhase;\n+\t\t\tbuildActionMask = 2147483647;\n+\t\t\tfiles = (\n+\t\t\t\tB5B7C71E141F68800003309D /* SenTestingKit.framework in Frameworks */,\n+\t\t\t\tB5B7C71F141F68800003309D /* Cocoa.framework in Frameworks */,\n+\t\t\t);\n+\t\t\trunOnlyForDeploymentPostprocessing = 0;\n+\t\t};\n /* End PBXFrameworksBuildPhase section */\n \n /* Begin PBXGroup section */\n@@ -620,6 +650,7 @@\n \t\t\tchildren = (\n \t\t\t\t14FFEDA013E938F900B394B9 /* libz.1.2.5.dylib */,\n \t\t\t\t4C1FEDB713BE3A7700679BD7 /* GBox */,\n+\t\t\t\tB5B7C720141F68800003309D /* GBoxTests */,\n \t\t\t\t4C1FEDB013BE3A7700679BD7 /* Frameworks */,\n \t\t\t\t4C1FEDAE13BE3A7700679BD7 /* Products */,\n \t\t\t);\n@@ -629,6 +660,7 @@\n \t\t\tisa = PBXGroup;\n \t\t\tchildren = (\n \t\t\t\t4C1FEDAD13BE3A7700679BD7 /* GBox.app */,\n+\t\t\t\tB5B7C71D141F68800003309D /* GBoxTests.octest */,\n \t\t\t);\n \t\t\tname = Products;\n \t\t\tsourceTree = \"<group>\";\n@@ -1125,6 +1157,26 @@\n \t\t\tpath = Mac;\n \t\t\tsourceTree = \"<group>\";\n \t\t};\n+\t\tB5B7C720141F68800003309D /* GBoxTests */ = {\n+\t\t\tisa = PBXGroup;\n+\t\t\tchildren = (\n+\t\t\t\tB5B7C726141F68800003309D /* GBoxTests.h */,\n+\t\t\t\tB5B7C728141F68800003309D /* GBoxTests.m */,\n+\t\t\t\tB5B7C721141F68800003309D /* Supporting Files */,\n+\t\t\t);\n+\t\t\tpath = GBoxTests;\n+\t\t\tsourceTree = \"<group>\";\n+\t\t};\n+\t\tB5B7C721141F68800003309D /* Supporting Files */ = {\n+\t\t\tisa = PBXGroup;\n+\t\t\tchildren = (\n+\t\t\t\tB5B7C722141F68800003309D /* GBoxTests-Info.plist */,\n+\t\t\t\tB5B7C723141F68800003309D /* InfoPlist.strings */,\n+\t\t\t\tB5B7C72A141F68800003309D /* GBoxTests-Prefix.pch */,\n+\t\t\t);\n+\t\t\tname = \"Supporting Files\";\n+\t\t\tsourceTree = \"<group>\";\n+\t\t};\n \t\tCF93503713D5892E005C41CE /* GBoxUI */ = {\n \t\t\tisa = PBXGroup;\n \t\t\tchildren = (\n@@ -1179,6 +1231,25 @@\n \t\t\tproductReference = 4C1FEDAD13BE3A7700679BD7 /* GBox.app */;\n \t\t\tproductType = \"com.apple.product-type.application\";\n \t\t};\n+\t\tB5B7C71C141F68800003309D /* GBoxTests */ = {\n+\t\t\tisa = PBXNativeTarget;\n+\t\t\tbuildConfigurationList = B5B7C72D141F68800003309D /* Build configuration list for PBXNativeTarget \"GBoxTests\" */;\n+\t\t\tbuildPhases = (\n+\t\t\t\tB5B7C718141F68800003309D /* Sources */,\n+\t\t\t\tB5B7C719141F68800003309D /* Frameworks */,\n+\t\t\t\tB5B7C71A141F68800003309D /* Resources */,\n+\t\t\t\tB5B7C71B141F68800003309D /* ShellScript */,\n+\t\t\t);\n+\t\t\tbuildRules = (\n+\t\t\t);\n+\t\t\tdependencies = (\n+\t\t\t\tB5B7C732141F71370003309D /* PBXTargetDependency */,\n+\t\t\t);\n+\t\t\tname = GBoxTests;\n+\t\t\tproductName = GBoxTests;\n+\t\t\tproductReference = B5B7C71D141F68800003309D /* GBoxTests.octest */;\n+\t\t\tproductType = \"com.apple.product-type.bundle\";\n+\t\t};\n /* End PBXNativeTarget section */\n \n /* Begin PBXProject section */\n@@ -1198,6 +1269,7 @@\n \t\t\tprojectRoot = \"\";\n \t\t\ttargets = (\n \t\t\t\t4C1FEDAC13BE3A7700679BD7 /* GBox */,\n+\t\t\t\tB5B7C71C141F68800003309D /* GBoxTests */,\n \t\t\t);\n \t\t};\n /* End PBXProject section */\n@@ -1239,8 +1311,33 @@\n \t\t\t);\n \t\t\trunOnlyForDeploymentPostprocessing = 0;\n \t\t};\n+\t\tB5B7C71A141F68800003309D /* Resources */ = {\n+\t\t\tisa = PBXResourcesBuildPhase;\n+\t\t\tbuildActionMask = 2147483647;\n+\t\t\tfiles = (\n+\t\t\t\tB5B7C725141F68800003309D /* InfoPlist.strings in Resources */,\n+\t\t\t\tB5B7C727141F68800003309D /* GBoxTests.h in Resources */,\n+\t\t\t);\n+\t\t\trunOnlyForDeploymentPostprocessing = 0;\n+\t\t};\n /* End PBXResourcesBuildPhase section */\n \n+/* Begin PBXShellScriptBuildPhase section */\n+\t\tB5B7C71B141F68800003309D /* ShellScript */ = {\n+\t\t\tisa = PBXShellScriptBuildPhase;\n+\t\t\tbuildActionMask = 2147483647;\n+\t\t\tfiles = (\n+\t\t\t);\n+\t\t\tinputPaths = (\n+\t\t\t);\n+\t\t\toutputPaths = (\n+\t\t\t);\n+\t\t\trunOnlyForDeploymentPostprocessing = 0;\n+\t\t\tshellPath = /bin/sh;\n+\t\t\tshellScript = \"# Run the unit tests in this test bundle.\\n\\\"${SYSTEM_DEVELOPER_DIR}/Tools/RunUnitTests\\\"\\n\";\n+\t\t};\n+/* End PBXShellScriptBuildPhase section */\n+\n /* Begin PBXSourcesBuildPhase section */\n \t\t4C1FEDA913BE3A7700679BD7 /* Sources */ = {\n \t\t\tisa = PBXSourcesBuildPhase;\n@@ -1400,8 +1497,24 @@\n \t\t\t);\n \t\t\trunOnlyForDeploymentPostprocessing = 0;\n \t\t};\n+\t\tB5B7C718141F68800003309D /* Sources */ = {\n+\t\t\tisa = PBXSourcesBuildPhase;\n+\t\t\tbuildActionMask = 2147483647;\n+\t\t\tfiles = (\n+\t\t\t\tB5B7C729141F68800003309D /* GBoxTests.m in Sources */,\n+\t\t\t);\n+\t\t\trunOnlyForDeploymentPostprocessing = 0;\n+\t\t};\n /* End PBXSourcesBuildPhase section */\n \n+/* Begin PBXTargetDependency section */\n+\t\tB5B7C732141F71370003309D /* PBXTargetDependency */ = {\n+\t\t\tisa = PBXTargetDependency;\n+\t\t\ttarget = 4C1FEDAC13BE3A7700679BD7 /* GBox */;\n+\t\t\ttargetProxy = B5B7C731141F71370003309D /* PBXContainerItemProxy */;\n+\t\t};\n+/* End PBXTargetDependency section */\n+\n /* Begin PBXVariantGroup section */\n \t\t4C1FEDBA13BE3A7700679BD7 /* InfoPlist.strings */ = {\n \t\t\tisa = PBXVariantGroup;\n@@ -1419,6 +1532,14 @@\n \t\t\tname = Credits.rtf;\n \t\t\tsourceTree = \"<group>\";\n \t\t};\n+\t\tB5B7C723141F68800003309D /* InfoPlist.strings */ = {\n+\t\t\tisa = PBXVariantGroup;\n+\t\t\tchildren = (\n+\t\t\t\tB5B7C724141F68800003309D /* en */,\n+\t\t\t);\n+\t\t\tname = InfoPlist.strings;\n+\t\t\tsourceTree = \"<group>\";\n+\t\t};\n /* End PBXVariantGroup section */\n \n /* Begin XCBuildConfiguration section */\n@@ -1499,6 +1620,60 @@\n \t\t\t};\n \t\t\tname = Release;\n \t\t};\n+\t\tB5B7C72B141F68800003309D /* Debug */ = {\n+\t\t\tisa = XCBuildConfiguration;\n+\t\t\tbuildSettings = {\n+\t\t\t\tALWAYS_SEARCH_USER_PATHS = NO;\n+\t\t\t\tARCHS = \"$(ARCHS_STANDARD_64_BIT)\";\n+\t\t\t\tBUNDLE_LOADER = \"$(BUILT_PRODUCTS_DIR)/GBox.app/Contents/MacOS/GBox\";\n+\t\t\t\tCOPY_PHASE_STRIP = NO;\n+\t\t\t\tFRAMEWORK_SEARCH_PATHS = (\n+\t\t\t\t\t\"$(inherited)\",\n+\t\t\t\t\t\"\\\"$(SRCROOT)\\\"\",\n+\t\t\t\t\t\"$(DEVELOPER_LIBRARY_DIR)/Frameworks\",\n+\t\t\t\t);\n+\t\t\t\tGCC_DYNAMIC_NO_PIC = NO;\n+\t\t\t\tGCC_ENABLE_OBJC_EXCEPTIONS = YES;\n+\t\t\t\tGCC_PRECOMPILE_PREFIX_HEADER = YES;\n+\t\t\t\tGCC_PREFIX_HEADER = \"GBoxTests/GBoxTests-Prefix.pch\";\n+\t\t\t\tGCC_PREPROCESSOR_DEFINITIONS = (\n+\t\t\t\t\t\"DEBUG=1\",\n+\t\t\t\t\t\"$(inherited)\",\n+\t\t\t\t);\n+\t\t\t\tGCC_WARN_ABOUT_MISSING_PROTOTYPES = YES;\n+\t\t\t\tINFOPLIST_FILE = \"GBoxTests/GBoxTests-Info.plist\";\n+\t\t\t\tMACOSX_DEPLOYMENT_TARGET = 10.7;\n+\t\t\t\tPRODUCT_NAME = \"$(TARGET_NAME)\";\n+\t\t\t\tTEST_HOST = \"$(BUILT_PRODUCTS_DIR)/GBox.app/Contents/MacOS/GBox\";\n+\t\t\t\tWRAPPER_EXTENSION = octest;\n+\t\t\t};\n+\t\t\tname = Debug;\n+\t\t};\n+\t\tB5B7C72C141F68800003309D /* Release */ = {\n+\t\t\tisa = XCBuildConfiguration;\n+\t\t\tbuildSettings = {\n+\t\t\t\tALWAYS_SEARCH_USER_PATHS = NO;\n+\t\t\t\tARCHS = \"$(ARCHS_STANDARD_64_BIT)\";\n+\t\t\t\tBUNDLE_LOADER = \"$(BUILT_PRODUCTS_DIR)/GBox.app/Contents/MacOS/GBox\";\n+\t\t\t\tCOPY_PHASE_STRIP = YES;\n+\t\t\t\tDEBUG_INFORMATION_FORMAT = \"dwarf-with-dsym\";\n+\t\t\t\tFRAMEWORK_SEARCH_PATHS = (\n+\t\t\t\t\t\"$(inherited)\",\n+\t\t\t\t\t\"\\\"$(SRCROOT)\\\"\",\n+\t\t\t\t\t\"$(DEVELOPER_LIBRARY_DIR)/Frameworks\",\n+\t\t\t\t);\n+\t\t\t\tGCC_ENABLE_OBJC_EXCEPTIONS = YES;\n+\t\t\t\tGCC_PRECOMPILE_PREFIX_HEADER = YES;\n+\t\t\t\tGCC_PREFIX_HEADER = \"GBoxTests/GBoxTests-Prefix.pch\";\n+\t\t\t\tGCC_WARN_ABOUT_MISSING_PROTOTYPES = YES;\n+\t\t\t\tINFOPLIST_FILE = \"GBoxTests/GBoxTests-Info.plist\";\n+\t\t\t\tMACOSX_DEPLOYMENT_TARGET = 10.7;\n+\t\t\t\tPRODUCT_NAME = \"$(TARGET_NAME)\";\n+\t\t\t\tTEST_HOST = \"$(BUILT_PRODUCTS_DIR)/GBox.app/Contents/MacOS/GBox\";\n+\t\t\t\tWRAPPER_EXTENSION = octest;\n+\t\t\t};\n+\t\t\tname = Release;\n+\t\t};\n /* End XCBuildConfiguration section */\n \n /* Begin XCConfigurationList section */\n@@ -1520,6 +1695,14 @@\n \t\t\tdefaultConfigurationIsVisible = 0;\n \t\t\tdefaultConfigurationName = Release;\n \t\t};\n+\t\tB5B7C72D141F68800003309D /* Build configuration list for PBXNativeTarget \"GBoxTests\" */ = {\n+\t\t\tisa = XCConfigurationList;\n+\t\t\tbuildConfigurations = (\n+\t\t\t\tB5B7C72B141F68800003309D /* Debug */,\n+\t\t\t\tB5B7C72C141F68800003309D /* Release */,\n+\t\t\t);\n+\t\t\tdefaultConfigurationIsVisible = 0;\n+\t\t};\n /* End XCConfigurationList section */\n \n /* Begin XCVersionGroup section */",
      "status": "modified",
      "deletions": 0,
      "additions": 183,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox.xcodeproj/project.pbxproj",
      "changes": 183,
      "filename": "GBox.xcodeproj/project.pbxproj",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox.xcodeproj/project.pbxproj"
    },
    {
      "patch": "--- a/GBox/GBContacts.m\n+++ b/GBox/GBContacts.m\n@@ -150,25 +150,26 @@ static GBContacts* sharedInstance = nil;\n }\n \n // contacts fetched callback\n-- (void)contactsFetchTicket:(GDataServiceTicket *)ticket\n-           finishedWithFeed:(GDataFeedContact *)feed\n-                      error:(NSError *)error {\n-    if(error==nil){\n-    [self setContactFeed:feed];\n-    [self setContactFetchError:error];\n-    [self setContactFetchTicket:nil];\n-    [self setEmailArray];\n-    NSLog(@\"Contacts fetch ticket succeed. Will post the notification.\");\n-        isAvailable=YES;\n-    NSNotificationCenter * nc = [NSNotificationCenter defaultCenter]; \n-    [nc postNotificationName:kGBContactsListFetchSucceed\n-                      object:self];\n-        \n-    }else{\n-        NSLog(@\"Contacts fetch error: %@\",error);\n-    }\n-\n-    //[self updateUI];\n+- (void)contactsFetchTicket: (GDataServiceTicket *) ticket\n+       finishedWithFeed: (GDataFeedContact *) feed\n+       error: (NSError *) error {\n+\tif (error == nil) {\n+\t\t[self setContactFeed: feed];\n+\t\t[self setContactFetchError: error];\n+\t\t[self setContactFetchTicket: nil];\n+\t\t[self setEmailArray];\n+\n+\t\tNSLog(@\"Contacts fetch succeed. posting notification %@.\", kGBContactsListFetchSucceed);\n+\n+\t\tisAvailable = YES;\n+        NSNotificationCenter *nc = [NSNotificationCenter defaultCenter];\n+        [nc postNotificationName: kGBContactsListFetchSucceed object: self];\n+\t}\n+\telse {\n+\t\tNSLog(@\"Contacts fetch error: %@\", error);\n+\t}\n+\n+\t//[self updateUI];\n }\n \n #pragma mark Setters and Getters",
      "status": "modified",
      "deletions": 19,
      "additions": 20,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBContacts.m",
      "changes": 39,
      "filename": "GBox/GBContacts.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBContacts.m"
    },
    {
      "patch": "--- a/GBox/GBCrashReport.m\n+++ b/GBox/GBCrashReport.m\n@@ -60,77 +60,73 @@\n }\n \n \n-- (BOOL)newCrashReportExists\n-{\n-    NSDate *lastCrashTime = [[NSUserDefaults standardUserDefaults] valueForKey:@\"GBoxLastCrashTime\"];\n-    \n-    NSArray *libraryDirectories = NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask,FALSE);\n-    NSString *logFilePath = @\"Logs/CrashReporter/\";\n-    NSString *crashLogPath = [[[libraryDirectories objectAtIndex: 0 ] stringByAppendingPathComponent: logFilePath] stringByExpandingTildeInPath];\n-    \n-    NSString *newCrashReport = [self GBFindNewCrashReport:[self applicationName] crashLogsFolder:crashLogPath];\n-    \n-    NSLog(@\"=======================crash report %@\",newCrashReport);\n-    NSError **err;\n+- (BOOL)newCrashReportExists {\n+\tNSDate *lastCrashTime = [[NSUserDefaults standardUserDefaults] valueForKey: @\"GBoxLastCrashTime\"];\n \n-    \n-     if(newCrashReport != nil){\n-        NSDate *crashReportTime = [[[NSFileManager defaultManager] attributesOfItemAtPath:newCrashReport \n-                                                                                    error:err]  fileModificationDate];\n-    NSLog(@\"=======================crash time %@\",crashReportTime);\n-    NSLog(@\"=======================default time %@\",lastCrashTime);\n-    \n-    \n-    \n-        //compare crash time\n-        if (lastCrashTime && crashReportTime && \n-            ([crashReportTime compare: lastCrashTime] == NSOrderedDescending))\n-        {\n-            NSLog(@\"==================has new crash\");\n-            \n-            \n-            NSError * err;\n-            \n-            NSString * crashContents = [[NSString alloc]\n-                                        initWithContentsOfFile:newCrashReport\n-                                        encoding:NSUTF8StringEncoding\n-                                        error:&err];\n-            \n-            NSString *post = [NSString stringWithFormat:@\"entry.0.single=%@&pageNumber=0&backupCache=&submit=Submit\",crashContents];\n-            \n-            \n-            NSData *postData = [post dataUsingEncoding:NSUTF8StringEncoding allowLossyConversion:YES];\n-            NSString *postLength = [NSString stringWithFormat:@\"%d\", [post length]];\n-            \n-            NSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];\n-            [request setURL:[NSURL URLWithString:@\"https://docs.google.com/spreadsheet/formResponse?formkey=dFJyTzZMOGUwSnBEWktXYnl3SWpZRXc6MQ&amp;ifq\"]];\n-            [request setHTTPMethod:@\"POST\"];\n-            [request setValue:postLength forHTTPHeaderField:@\"Content-Length\"];\n-            [request setValue:@\"application/x-www-form-urlencoded\" forHTTPHeaderField:@\"Content-Type\"];\n-            [request setHTTPBody:postData];\n-            \n-            \n-            [NSURLConnection connectionWithRequest:request delegate:self];\n-            \n-            [crashContents release];\n-            \n-            \n-           //[[NSUserDefaults standardUserDefaults] setValue:crashReportTime forKey:@\"GBoxLastCrashTime\"];\n-            NSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];\n-            [defaults setValue:crashReportTime forKey:@\"GBoxLastCrashTime\"];\n-            [defaults synchronize];\n-        \n-            return YES;\n-        }else{\n-            NSLog(@\"==================has no crash\");\n-          \n-            return NO;\n-        }\n-        \n+\tNSArray *libraryDirectories = NSSearchPathForDirectoriesInDomains(NSLibraryDirectory, NSUserDomainMask, FALSE);\n+\tNSString *logFilePath = @\"Logs/CrashReporter/\";\n+\tNSString *crashLogPath = [[[libraryDirectories objectAtIndex: 0] stringByAppendingPathComponent: logFilePath] stringByExpandingTildeInPath];\n \n-    }\n-}\n-                                \n+\tNSString *newCrashReport = [self GBFindNewCrashReport: [self applicationName] crashLogsFolder: crashLogPath];\n+\n+\tNSLog(@\"Crash report %@\", newCrashReport);\n+\tNSError **err;\n+\n+\n+\tif (newCrashReport != nil) {\n+\t\tNSDate *crashReportTime = [[[NSFileManager defaultManager] attributesOfItemAtPath: newCrashReport\n+\t\t                            error: err]  fileModificationDate];\n+\t\tNSLog(@\"Crash time %@\", crashReportTime);\n+\t\tNSLog(@\"Default time %@\", lastCrashTime);\n+\n+\n+\n+\t\t//compare crash time\n+\t\tif ( lastCrashTime && crashReportTime &&\n+\t\t     ([crashReportTime compare: lastCrashTime] == NSOrderedDescending) ) {\n+\t\t\tNSLog(@\"New Crashed\");\n+\n+\n+\t\t\tNSError *err;\n+\n+\t\t\tNSString *crashContents = [[NSString alloc]\n+\t\t\t                           initWithContentsOfFile: newCrashReport\n+\t\t\t                           encoding: NSUTF8StringEncoding\n+\t\t\t                           error: &err];\n+\n+\t\t\tNSString *post = [NSString stringWithFormat: @\"entry.0.single=%@&pageNumber=0&backupCache=&submit=Submit\", crashContents];\n+\n+\n+\t\t\tNSData *postData = [post dataUsingEncoding: NSUTF8StringEncoding allowLossyConversion: YES];\n+\t\t\tNSString *postLength = [NSString stringWithFormat: @\"%d\", [post length]];\n+\n+\t\t\tNSMutableURLRequest *request = [[[NSMutableURLRequest alloc] init] autorelease];\n+\t\t\t[request setURL: [NSURL URLWithString: @\"https://docs.google.com/spreadsheet/formResponse?formkey=dFJyTzZMOGUwSnBEWktXYnl3SWpZRXc6MQ&amp;ifq\"]];\n+\t\t\t[request setHTTPMethod: @\"POST\"];\n+\t\t\t[request setValue: postLength forHTTPHeaderField: @\"Content-Length\"];\n+\t\t\t[request setValue: @\"application/x-www-form-urlencoded\" forHTTPHeaderField: @\"Content-Type\"];\n+\t\t\t[request setHTTPBody: postData];\n+\n+\n+\t\t\t[NSURLConnection connectionWithRequest: request delegate: self];\n+\n+\t\t\t[crashContents release];\n+\n+\n+\t\t\t//[[NSUserDefaults standardUserDefaults] setValue:crashReportTime forKey:@\"GBoxLastCrashTime\"];\n+\t\t\tNSUserDefaults *defaults = [NSUserDefaults standardUserDefaults];\n+\t\t\t[defaults setValue: crashReportTime forKey: @\"GBoxLastCrashTime\"];\n+\t\t\t[defaults synchronize];\n+\n+\t\t\treturn YES;\n+\t\t}\n+\t\telse {\n+\t\t\tNSLog(@\"Haven't crash\");\n+\n+\t\t\treturn NO;\n+\t\t}\n+\t}\n+}                                \n \n - (NSString*) applicationName\n {",
      "status": "modified",
      "deletions": 69,
      "additions": 65,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBCrashReport.m",
      "changes": 134,
      "filename": "GBox/GBCrashReport.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBCrashReport.m"
    },
    {
      "patch": "--- a/GBox/GBDataFacility.h\n+++ b/GBox/GBDataFacility.h\n@@ -12,52 +12,52 @@\n @class GBCollectionManager;\n \n @interface GBDataFacility : NSObject {\n-@private\n-    NSManagedObjectModel *model;\n-    NSPersistentStoreCoordinator *coordinator;\n-    NSManagedObjectContext *context;\n-    id persistentStore;\n-    \n-    NSURL * DB_storeURL;\n-    \n-    GBCollectionManager* collectionManager;\n-        \n+\t@private\n+\tNSManagedObjectModel *model;\n+\tNSPersistentStoreCoordinator *coordinator;\n+\tNSManagedObjectContext *context;\n+\tid persistentStore;\n+\n+\tNSURL *DB_storeURL;\n+\n+\tGBCollectionManager *collectionManager;\n }\n \n-+(GBDataFacility*)sharedDataFacility;\n++ (GBDataFacility *)sharedDataFacility;\n+\n+- (void)clearData;\n \n--(void)clearData;\n+- (BOOL) initializeCoreDataStack: (NSError **) error;\n \n--(BOOL) InitializeCoreDataStack:(NSError **)error;\n+- (NSArray *)fetchTaskOfState: (NSInteger) state;\n \n--(NSArray*)fetchTaskOfState:(NSInteger)state;\n--(NSManagedObject*)fetchTaskOfTimestamp:(NSNumber*)timestamp;\n+- (NSManagedObject *)fetchTaskOfTimestamp: (NSNumber *) timestamp;\n \n--(NSManagedObject *)insertEvent:(NSNumber*)eventID\n-                  withEventCode:(NSInteger)eventCode\n-                       operandA:(NSString*)operandA\n-                    andOperandB:(NSString*)operandB;\n+- (NSManagedObject *)insertEvent: (NSNumber *) eventID\n+       withEventCode: (NSInteger) eventCode\n+       operandA: (NSString *) operandA\n+       andOperandB: (NSString *) operandB;\n \n //Without saving instantly\n--(void)             insertEvent:(NSNumber*)eventID\n-                  withEventCode:(NSInteger)eventCode\n-                       operandA:(NSString*)operandA\n-                       operandB:(NSString*)operandB\n-                       andState:(NSUInteger)state;\n+- (void) insertEvent: (NSNumber *) eventID\n+       withEventCode: (NSInteger) eventCode\n+       operandA: (NSString *) operandA\n+       operandB: (NSString *) operandB\n+       andState: (NSUInteger) state;\n \n //Helper Function:\n--(NSManagedObject*) moForMOID:(NSManagedObjectID*)moid;\n+- (NSManagedObject *) moForMOID: (NSManagedObjectID *) moid;\n \n--(void) setState:(NSInteger) state ofTaskID:(NSManagedObjectID*)moid;\n+- (void) setState: (NSInteger) state ofTaskID: (NSManagedObjectID *) moid;\n \n--(NSUInteger)countOfWaitingTasks;\n+- (NSUInteger)countOfWaitingTasks;\n \n--(NSUInteger)countOfExecutingTasks;\n+- (NSUInteger)countOfExecutingTasks;\n \n--(void)setUnfinshedTaskToWaiting;\n+- (void)setUnfinshedTaskToWaiting;\n \n--(void)setCollectionManager:(GBCollectionManager*)cm;\n+- (void)setCollectionManager: (GBCollectionManager *) cm;\n \n--(void)contextSave;\n+- (void)contextSave;\n \n @end",
      "status": "modified",
      "deletions": 31,
      "additions": 31,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBDataFacility.h",
      "changes": 62,
      "filename": "GBox/GBDataFacility.h",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBDataFacility.h"
    },
    {
      "patch": "--- a/GBox/GBDataFacility.m\n+++ b/GBox/GBDataFacility.m\n@@ -31,7 +31,7 @@ static GBDataFacility* instance =nil;\n     \n     NSError *errorInitializingStack = nil;\n     \n-    if ([self InitializeCoreDataStack:&errorInitializingStack]) {\n+    if ([self initializeCoreDataStack:&errorInitializingStack]) {\n         //[self setRequestTemplate];\n         \n         [self setUnfinshedTaskToWaiting];\n@@ -87,7 +87,7 @@ static GBDataFacility* instance =nil;\n \n // Initialize the Core Data persistence stack used by this tool.  This consists of a model, a persistent store coordinator, a managed object context, and a persistent store, all global.  Return YES on success, NO and an autoreleased NSError in *error on failure.\n \n--(BOOL) InitializeCoreDataStack:(NSError **)error {\n+-(BOOL) initializeCoreDataStack:(NSError **)error {\n     \n     // Create a merged managed object model based on the models in the main bundle.\n     // For a Foundation tool, the main bundle is the directory that contains it.\n@@ -143,7 +143,7 @@ static GBDataFacility* instance =nil;\n             \n     NSError *errorInitializingStack = nil;\n \n-    [self InitializeCoreDataStack:&errorInitializingStack];  \n+    [self initializeCoreDataStack:&errorInitializingStack];  \n     \n }\n \n@@ -254,31 +254,33 @@ static GBDataFacility* instance =nil;\n     \n }\n \n--(NSManagedObject*)fetchTaskOfTimestamp:(NSNumber*)timestamp{\n-    \n-    NSArray* taskEntries=nil;\n-    NSFetchRequest *fetchRequest = [model \n-                                            fetchRequestFromTemplateWithName:@\"fetchTaskByTimestamp\"\n-                                            substitutionVariables:\n-                                            [NSDictionary dictionaryWithObjectsAndKeys:timestamp,@\"eventID\", nil]];                \n-    NSError* error=nil;\n-    \n-    taskEntries = [context executeFetchRequest:fetchRequest error:&error];\n-    \n-    if ((error != nil) || (taskEntries == nil))\n-    {\n-        NSLog(@\"Error while fetching\\n%@\",\n-              ([error localizedDescription] != nil) ? [error localizedDescription] : @\"Unknown Error\");\n-        exit(1);\n-    }\n-    if([taskEntries count] ==0){\n-        return nil;\n-    }else{\n-        return [taskEntries objectAtIndex:0];\n-    }\n-    \n+- (NSManagedObject *)fetchTaskOfTimestamp: (NSNumber *) timestamp {\n+\tNSArray *taskEntries = nil;\n+\tNSFetchRequest *fetchRequest = [model\n+\t                                fetchRequestFromTemplateWithName: @\"fetchTaskByTimestamp\"\n+\t                                substitutionVariables:\n+\t                                [NSDictionary dictionaryWithObjectsAndKeys: timestamp, @\"eventID\", nil]];\n+\n+    // [fetchRequest setEntity:[NSEntityDescription entityForName:@\"GBTaskEntity\" inManagedObjectContext:context]];\n+\n+\tNSError *error = nil;\n+\n+\ttaskEntries = [context executeFetchRequest: fetchRequest error: &error];\n+\n+\tif ( (error != nil) || (taskEntries == nil) ) {\n+\t\tNSLog(@\"Error while fetching\\n%@\",\n+\t\t      ([error localizedDescription] != nil) ? [error localizedDescription] : @\"Unknown Error\");\n+\t\texit(1);\n+\t}\n+\tif ([taskEntries count] == 0) {\n+\t\treturn nil;\n+\t}\n+\telse {\n+\t\treturn [taskEntries objectAtIndex: 0];\n+\t}\n }\n \n+\n -(NSArray*)fetchTaskOfState:(NSInteger)state{\n     \n     NSArray* taskEntries=nil;",
      "status": "modified",
      "deletions": 26,
      "additions": 28,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBDataFacility.m",
      "changes": 54,
      "filename": "GBox/GBDataFacility.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBDataFacility.m"
    },
    {
      "patch": "--- a/GBox/GBDocListData.m\n+++ b/GBox/GBDocListData.m\n@@ -125,73 +125,66 @@ static GBDocListData* sharedInstance = nil;\n \n // begin retrieving the list of the user's docs\n - (void)fetchDocList {\n-    \n-    [self setDocListFeed:nil];\n-    [self setDocListFetchError:nil];\n-    [self setDocListFetchTicket:nil];\n-    \n-    GDataServiceGoogleDocs *service = [self docsService];\n-    GDataServiceTicket *ticket;\n-    \n-    // Fetching a feed gives us 25 responses by default.  We need to use\n-    // the feed's \"next\" link to get any more responses.  If we want more than 25\n-    // at a time, instead of calling fetchDocsFeedWithURL, we can create a\n-    // GDataQueryDocs object, as shown here.\n-    \n-    NSURL *feedURL = [GDataServiceGoogleDocs docsFeedURL];\n-    \n-    GDataQueryDocs *query = [GDataQueryDocs documentQueryWithFeedURL:feedURL];\n-    [query setMaxResults:10000];\n-    [query setShouldShowFolders:YES];\n-    \n-    ticket = [service fetchFeedWithQuery:query\n-                       completionHandler:^(GDataServiceTicket *ticket, GDataFeedBase *feed, NSError *error) {\n-                           // callback\n-                           [self setDocListFeed:(GDataFeedDocList *)feed];\n-                           [self setDocListFetchError:error];\n-                           [self setDocListFetchTicket:nil];\n-                           if(error==nil){\n-                               //Deal with the doc list \n-                               //Fetch List test.\n-                               \n-                               //[self printEntryList];\n-                               \n-                               //        NSLog(@\"===============Server MD5 List==================\");\n-                               \n-                               //[self fetchServerDic];\n-                               \n-                               /*\n-                                for(NSString* entry in [[self serverDic] allKeys] ){\n-                                NSLog(\"MD5 entry in serverDic: %@ \",entry);\n-                                }\n-                                */\n-                               \n-                               //NSArray * serverMD5List = [[self serverDic] allKeys];\n-                               \n-                               \n-                               \n-                               //[self setSeverMD5Set:serverMD5List];\n-                               \n-                               NSNotificationCenter * nc = [NSNotificationCenter defaultCenter]; \n-                               [nc postNotificationName:kGBDocListFetchSucceed\n-                                                 object:self];\n-                               \n-                           }else{\n-                               NSLog(@\"List fetch not succeed. Please check the network.\\\n+\t[self setDocListFeed: nil];\n+\t[self setDocListFetchError: nil];\n+\t[self setDocListFetchTicket: nil];\n+\n+\tGDataServiceGoogleDocs *service = [self docsService];\n+\tGDataServiceTicket *ticket;\n+\n+\t// Fetching a feed gives us 25 responses by default.  We need to use\n+\t// the feed's \"next\" link to get any more responses.  If we want more than 25\n+\t// at a time, instead of calling fetchDocsFeedWithURL, we can create a\n+\t// GDataQueryDocs object, as shown here.\n+\n+\tNSURL *feedURL = [GDataServiceGoogleDocs docsFeedURL];\n+\n+\tGDataQueryDocs *query = [GDataQueryDocs documentQueryWithFeedURL: feedURL];\n+\t[query setMaxResults: 10000];\n+\t[query setShouldShowFolders: YES];\n+\n+\tticket = [service fetchFeedWithQuery: query\n+\t          completionHandler:^(GDataServiceTicket * ticket, GDataFeedBase * feed, NSError * error) {\n+\t                  // callback\n+\t                  [self setDocListFeed: (GDataFeedDocList *)feed];\n+\t                  [self setDocListFetchError: error];\n+\t                  [self setDocListFetchTicket: nil];\n+\t                  if (error == nil) {\n+\t                          //Deal with the doc list\n+\t                          //Fetch List test.\n+\n+\t                          //[self printEntryList];\n+\n+\t                          //        NSLog(@\"===============Server MD5 List==================\");\n+\n+\t                          //[self fetchServerDic];\n+\n+\t                          /*\n+\t                             for(NSString* entry in [[self serverDic] allKeys] ){\n+\t                             NSLog(\"MD5 entry in serverDic: %@ \",entry);\n+\t                             }\n+\t                           */\n+\n+\t                          //NSArray * serverMD5List = [[self serverDic] allKeys];\n+\n+\n+\n+\t                          //[self setSeverMD5Set:serverMD5List];\n+\n+\t                          NSNotificationCenter *nc = [NSNotificationCenter defaultCenter];\n+\t                          [nc postNotificationName: kGBDocListFetchSucceed object: self];\n+                      }\n+\t                  else {\n+\t                          NSLog (@\"List fetch not succeed. Please check your network.\\\n                                      Please take care the proxy and ssh. Thanks to the GFW.\");\n-                               \n-                           }\n+                      }\n+              }];\n \n-                           \n-                       }];\n-    \n-    [self setDocListFetchTicket:ticket];\n-    \n-    // update our metadata entry for this user\n-    [self fetchMetadataEntry];\n-    \n-}\n+\t[self setDocListFetchTicket: ticket];\n \n+\t// update our metadata entry for this user\n+\t[self fetchMetadataEntry];\n+}\n \n \n /*",
      "status": "modified",
      "deletions": 64,
      "additions": 57,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBDocListData.m",
      "changes": 121,
      "filename": "GBox/GBDocListData.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBDocListData.m"
    },
    {
      "patch": "--- a/GBox/GBFileSystemInfo.m\n+++ b/GBox/GBFileSystemInfo.m\n@@ -72,7 +72,7 @@ static GBFileSystemInfo* instance= nil;\n         [attributes setObject:isDirectory forKey:NSURLIsDirectoryKey];\n         \n         //set identifier to path dic\n-        NSString* identifier = [GBUtility identifierforFileAtPath:[url path]];\n+        NSString* identifier = [GBUtility identifierForFileAtPath:[url path]];\n         /*\n         if(identifier!=nil){\n             NSLog(@\"The identifier length is %lu\",[identifier length]);",
      "status": "modified",
      "deletions": 1,
      "additions": 1,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBFileSystemInfo.m",
      "changes": 2,
      "filename": "GBox/GBFileSystemInfo.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBFileSystemInfo.m"
    },
    {
      "patch": "--- a/GBox/GBFileSystemWatcher.m\n+++ b/GBox/GBFileSystemWatcher.m\n@@ -129,7 +129,7 @@ static void fsevent_callback(ConstFSEventStreamRef streamRef,\n         ignoredFiles: (NSArray *)theIgnoredFiles\n             delegate: (id)theDelegate \n          lastEventId: (uint64_t)theLastEventId {\n-    CFAbsoluteTime latency = 13.0;\n+    CFAbsoluteTime latency = 1.0;\n     FSEventStreamContext streamContext = {0, self, NULL, NULL};\n \n     NSLog(@\"In GBFileSystemWatcher\");",
      "status": "modified",
      "deletions": 1,
      "additions": 1,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBFileSystemWatcher.m",
      "changes": 2,
      "filename": "GBox/GBFileSystemWatcher.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBFileSystemWatcher.m"
    },
    {
      "patch": "--- a/GBox/GBRecentChangesController.m\n+++ b/GBox/GBRecentChangesController.m\n@@ -7,7 +7,8 @@\n //\n \n #import \"GBRecentChangesController.h\"\n-\n+#import \"GBDataFacility.h\"\n+#import \"GBoxConstants.h\"\n @implementation GBRecentChangesController\n \n - (id)init\n@@ -51,6 +52,12 @@\n \t// Find all the entires in the _baseURL directory.\n \tNSArray *fileURLS = [[NSFileManager defaultManager] contentsOfDirectoryAtURL:_baseURL includingPropertiesForKeys:[NSArray arrayWithObjects:NSURLIsDirectoryKey, NSURLTypeIdentifierKey, nil] options:0 error:nil];\n \t*/\n+    GBDataFacility* dataFacility = [GBDataFacility sharedDataFacility];\n+\n+    NSArray *mos = [dataFacility fetchTaskOfState:kGBStateWaiting];\n+    for(NSManagedObject* mo in mos){\n+        \n+    }\n     // Only 4 images per menu item are allowed by the view. Use this index to keep track of that\n \tNSInteger idx = 0;\n     NSArray *fileURLS = [NSArray arrayWithObject:nil];\n@@ -76,7 +83,7 @@\n \t\t\t\t\tNSMenuItem *imagesMenuItem = [masterImagesMenuItem copy];\n                     \n                     // Load the custom view from its nib\n-\t\t\t\t\tNSViewController *viewController = [[NSViewController alloc] initWithNibName:@\"imagePickerMenuItem\" bundle:nil];\n+\t\t\t\t\tNSViewController *viewController = [[NSViewController alloc] initWithNibName:@\"RecentChangeItem\" bundle:nil];\n                     \n                     /* Setup a mutable dictionary as the view controller's represeted object so we can bind the custom view to it.\n                      */",
      "status": "modified",
      "deletions": 2,
      "additions": 9,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBRecentChangesController.m",
      "changes": 11,
      "filename": "GBox/GBRecentChangesController.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBRecentChangesController.m"
    },
    {
      "patch": "--- a/GBox/GBSyncController.m\n+++ b/GBox/GBSyncController.m\n@@ -57,7 +57,7 @@\n         //Manage the Concurrent Operation Number limit\n         NSNotificationCenter *nc = [NSNotificationCenter defaultCenter];\n         [nc addObserver:self\n-               selector:@selector(docListFetchSucceed)\n+               selector:@selector(docListFetchSucceed:)\n                    name:kGBDocListFetchSucceed\n                  object:nil];\n         [nc addObserver:self\n@@ -160,18 +160,21 @@ static GBSyncController * shareSyncController = nil;\n     if(countOfWaitingTasks!=0&&countOfExecutingTasks==0){\n         //Set up NSTimer to refresh the icon.\n         refreshCount =0;\n-        refreshIconTimer = [NSTimer scheduledTimerWithTimeInterval:0.5\n+        if(refreshIconTimer ==nil){\n+            refreshIconTimer = [NSTimer scheduledTimerWithTimeInterval:0.5\n                                                             target:self\n                                                           selector:@selector(refreshIconTimer:)\n                                                           userInfo:nil\n                                                            repeats:YES];\n-        [[NSRunLoop currentRunLoop] addTimer:refreshIconTimer forMode:NSEventTrackingRunLoopMode];\n+            [[NSRunLoop currentRunLoop] addTimer:refreshIconTimer forMode:NSEventTrackingRunLoopMode];\n+        }\n         [docListData fetchDocList];\n         [dataFacility contextSave];\n         synced= NO;\n     }else if(synced==NO&&countOfExecutingTasks==0){\n-        [refreshIconTimer invalidate];\n-        refreshIconTimer =nil;\n+        //[refreshIconTimer invalidate];\n+        //[refreshIconTimer release];\n+        \n         [statusItem setImage:[NSImage imageNamed:@\"statusicon\"]];\n         synced=YES;\n         [dataFacility contextSave];\n@@ -208,9 +211,9 @@ static GBSyncController * shareSyncController = nil;\n     firstDocListFetchSucceed = yesORno;\n }\n \n--(void) docListFetchSucceed{\n+-(void) docListFetchSucceed: (NSNotification*) aNotification{\n     \n-    NSLog(@\"fetch list succeed.\");\n+    NSLog(@\"Fetch Google Doc list succeed: %@\", aNotification);\n     \n     if (setupFinished) {\n         if(firstDocListFetchSucceed){\n@@ -230,7 +233,7 @@ static GBSyncController * shareSyncController = nil;\n \n -(void)initialDocChangeFeedFetchSucceed:(NSNotification*) aNotification{\n     NSNumber* largestChangestamp = [aNotification object];\n-    NSLog(@\"Initial fetch<Largest changestamp>: %@\",largestChangestamp);\n+    NSLog(@\"Initial Fetch Largest change stamp: %@\", largestChangestamp);\n     \n     [[NSUserDefaults standardUserDefaults] setObject:largestChangestamp\n                                               forKey:kGBLargestChangestamp];\n@@ -238,100 +241,104 @@ static GBSyncController * shareSyncController = nil;\n }\n \n \n--(void)docChangeFeedFetchSucceed:(NSNotification*) aNotification{\n-    NSDictionary *userInfo = [aNotification userInfo];\n-    NSSet *changesEntries = [NSSet setWithArray:[aNotification object]];\n-            \n-    if(changesEntries!=nil){\n-        \n-        BOOL anyChangesNew = NO;\n-        \n-        for (GDataEntryDocBase *entry in changesEntries) {\n-            \n-            NSNumber* entryChangestamp = [entry changestamp];\n-            \n-            if([dataFacility fetchTaskOfTimestamp:entryChangestamp]==nil){\n-                anyChangesNew =YES;\n-            }\n+- (void)docChangeFeedFetchSucceed: (NSNotification *) aNotification {\n+\tNSDictionary *userInfo = [aNotification userInfo];\n+\tNSSet *changesEntries = [NSSet setWithArray: [aNotification object]];\n+\n+    NSLog(@\"Change Feed Fetch succeed\");\n+\n+    if (changesEntries == nil) {\n+        NSLog(@\"\\t=> Change entries nil\");\n+        return;\n+    }\n+\n+    BOOL anyChangesNew = NO;\n+\n+    for (GDataEntryDocBase *entry in changesEntries) {\n+        NSNumber *entryChangestamp = [entry changestamp];\n+\n+        if ([dataFacility fetchTaskOfTimestamp: entryChangestamp] == nil) {\n+            anyChangesNew = YES;\n         }\n-        \n-        if(anyChangesNew){\n-            //largestChangestamp will not be updated, until the changeEntries is fetched successfully.\n-            NSNumber *largestChangestamp = [userInfo objectForKey:kGBLargestChangestamp] ;\n-            NSLog(@\"Largest changestamp: %@\",largestChangestamp);\n-            \n-            [[NSUserDefaults standardUserDefaults] setObject:largestChangestamp\n-                                                      forKey:kGBLargestChangestamp];\n-            [[NSUserDefaults standardUserDefaults] synchronize];\n-            \n-            //second or later fetch\n-            //Deal with each changed entry, treat it as common doc/collection entry\n-            for (GDataEntryDocBase *entry in changesEntries) {\n-                \n-                BOOL isCollection = ([entry class]==[GDataEntryFolderDoc class])?YES:NO;\n-                NSString* entryTitle = [[entry title] stringValue];\n-                NSNumber* entryChangestamp = [entry changestamp];\n-                NSString* entryIdentifier = [entry identifier];\n-                \n-                //Ignore file created on web.\n-                if((!isCollection)&&[entry MD5Checksum]==nil){\n-                    [dataFacility insertEvent:entryChangestamp\n-                                withEventCode:kGBServerNoMD5FileExist\n-                                     operandA:entryIdentifier\n-                                     operandB:nil\n-                                     andState:kGBStateCancel];\n-                    continue;\n-                }\n-                \n-                //Entry\n-                if([dataFacility fetchTaskOfTimestamp:entryChangestamp]==nil){\n-                    //Ensure This entry is processed only once. \n-                    \n-                    if ([entry isRemoved]) {\n-                        // Removed\n-                        //NSLog(@\"Removed %@ with timestamp %@\",[entry identifier] ,[entry changestamp]);\n-                    } else {\n-                        // Added or updated\n-                        //[GBUtility displayAlert:@\"Added Or Updated\" format:@\"\\n%@\", [[entry title] stringValue]];\n-                        NSLog(@\"Added or Updated %@ with timestamp %@\",entryTitle,entryChangestamp);\n-                        if([entry isDeleted]){\n-                            //Is trashed on server \n-                            \n-                            //Succeed into this step.\n-                            if(isCollection){\n-                                NSLog(@\"Collection %@ deleted on server.\",entryTitle);\n-                                [dataFacility insertEvent:entryChangestamp\n-                                            withEventCode:kGBServerDeleteCollection\n-                                                 operandA:entryIdentifier\n-                                              andOperandB:nil];\n-                                \n-                                \n-                            }else{\n-                                NSLog(@\"Doc entry %@ deleted on server.\",entryTitle);\n-                                [dataFacility insertEvent:entryChangestamp\n-                                            withEventCode:kGBServerDeleteFile\n-                                                 operandA:entryIdentifier\n-                                              andOperandB:nil];\n-                            }\n-                            \n-                        }else{\n-                            [dataFacility insertEvent:entryChangestamp\n-                                        withEventCode:kGBServerFileUpdated\n-                                             operandA:entryIdentifier\n-                                          andOperandB:nil];\n-                        }//If the entry is deleted.\n-                        \n-                    }//is Removed.\n-                    \n-                }//Ensure This entry is processed only once.   \n-                \n-            }//For each entry doc/collection\n-            [dataFacility contextSave];\n-        }//Any changes new\n-        \n-    }//changeEntries nil\n+    }\n+\n+    if (!anyChangesNew) {\n+        NSLog(@\"\\t=> No new change entries\");\n+        return;\n+    }\n     \n+    \n+    //largestChangestamp will not be updated, until the changeEntries is fetched successfully.\n+    NSNumber *largestChangestamp = [userInfo objectForKey: kGBLargestChangestamp];\n+    NSLog(@\"Largest changestamp: %@\", largestChangestamp);\n+\n+    [[NSUserDefaults standardUserDefaults] setObject: largestChangestamp\n+     forKey: kGBLargestChangestamp];\n+    [[NSUserDefaults standardUserDefaults] synchronize];\n+\n+    //second or later fetch\n+    //Deal with each changed entry, treat it as common doc/collection entry\n+    for (GDataEntryDocBase *entry in changesEntries) {\n+        BOOL isCollection = ([entry class] == [GDataEntryFolderDoc class]) ? YES : NO;\n+        NSString *entryTitle = [[entry title] stringValue];\n+        NSNumber *entryChangestamp = [entry changestamp];\n+        NSString *entryIdentifier = [entry identifier];\n+\n+        //Ignore file created on web.\n+        if ( (!isCollection) && [entry MD5Checksum] == nil ) {\n+            [dataFacility insertEvent: entryChangestamp\n+             withEventCode: kGBServerNoMD5FileExist\n+             operandA: entryIdentifier\n+             operandB: nil\n+             andState: kGBStateCancel];\n+            continue;\n+        }\n+\n+        //Entry\n+        if ([dataFacility fetchTaskOfTimestamp: entryChangestamp] == nil) {\n+            //Ensure This entry is processed only once.\n+\n+            if ([entry isRemoved]) {\n+                // Removed\n+                //NSLog(@\"Removed %@ with timestamp %@\",[entry identifier] ,[entry changestamp]);\n+            }\n+            else {\n+                // Added or updated\n+                //[GBUtility displayAlert:@\"Added Or Updated\" format:@\"\\n%@\", [[entry title] stringValue]];\n+                NSLog(@\"Added or Updated %@ with timestamp %@\", entryTitle, entryChangestamp);\n+                if ([entry isDeleted]) {\n+                    //Is trashed on server\n+\n+                    //Succeed into this step.\n+                    if (isCollection) {\n+                        NSLog(@\"Collection %@ deleted on server.\", entryTitle);\n+                        [dataFacility insertEvent: entryChangestamp\n+                         withEventCode: kGBServerDeleteCollection\n+                         operandA: entryIdentifier\n+                         andOperandB: nil];\n+                    }\n+                    else {\n+                        NSLog(@\"Doc entry %@ deleted on server.\", entryTitle);\n+                        [dataFacility insertEvent: entryChangestamp\n+                         withEventCode: kGBServerDeleteFile\n+                         operandA: entryIdentifier\n+                         andOperandB: nil];\n+                    }\n+                }\n+                else {\n+                    [dataFacility insertEvent: entryChangestamp\n+                     withEventCode: kGBServerFileUpdated\n+                     operandA: entryIdentifier\n+                     andOperandB: nil];\n+                } //If the entry is deleted.\n+            } //is Removed.\n+        } //Ensure This entry is processed only once.\n+    } //For each entry doc/collection\n+    [dataFacility contextSave];\n }\n+\n+\n+\n - (void) setBandWidth:(NSUInteger)bandwidth\n {\n     bandwidthLimit = bandwidth;",
      "status": "modified",
      "deletions": 99,
      "additions": 106,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBSyncController.m",
      "changes": 205,
      "filename": "GBox/GBSyncController.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBSyncController.m"
    },
    {
      "patch": "--- a/GBox/GBTaskHandler.m\n+++ b/GBox/GBTaskHandler.m\n@@ -126,7 +126,7 @@\n         NSMutableSet* localParentIdentifiers = [[NSMutableSet alloc]init];\n         for(NSString* path in pathSet){\n             NSString* parentPath = [path stringByDeletingLastPathComponent];\n-            NSString* parentIdentifier = [GBUtility identifierforFileAtPath:parentPath];\n+            NSString* parentIdentifier = [GBUtility identifierForFileAtPath:parentPath];\n             if(parentIdentifier!=nil){\n                 [localParentIdentifiers addObject:parentIdentifier];\n             }\n@@ -224,27 +224,51 @@\n             NSString* folderIdentifier = [folder identifier];\n             NSSet* parentPathSet = [localIdentifierDic valueForKey:folderIdentifier];\n             if(parentPathSet==nil||[parentPathSet count]==0){\n-                [dataFacility insertEvent:0\n-                            withEventCode:kGBServerAddEntryToCollection\n-                                 operandA:identifier\n-                              andOperandB:folderIdentifier];\n-                [dataFacility setState:kGBStateDone ofTaskID:[taskMO objectID]];\n-                [currentExecutingTasks removeObject:taskID];\n-                return;\n-            }\n-            NSMutableSet *newPathSet = [[NSMutableSet alloc]init ];\n-            for(NSString* parentPath in parentPathSet){\n-                //The local directory is not exist\n-                NSString* newPath = [NSString stringWithFormat:@\"%@/%@/\",parentPath,entryTitle];\n-                if([localInfoDic valueForKey:newPath]==nil){\n-                    [GBUtility createLocalFolderAtPath: newPath];\n-                    [GBUtility setIdentifier:identifier forFileAtPath:newPath];\n-                    [newPathSet addObject:newPath];\n-                }\n-                [additionalIdentifierDic setValue:newPathSet forKey:identifier];\n+                NSSet* additionalPathSet = [additionalIdentifierDic valueForKey:folderIdentifier];\n+                if(additionalIdentifierDic==nil||[additionalIdentifierDic count]==0){\n+                    NSString* folderPathAtRoot =[GBUtility expandedPath:entryTitle];\n+                    \n+                    [GBUtility createLocalFolderAtPath: folderPathAtRoot];\n+                    [GBUtility setIdentifier:identifier forFileAtPath:folderPathAtRoot];\n+                    \n+                    [dataFacility insertEvent:0\n+                                withEventCode:kGBServerAddEntryToCollection\n+                                     operandA:identifier\n+                                  andOperandB:folderIdentifier];\n+                    \n+                }else{\n+                    NSMutableSet *newPathSet = [[NSMutableSet alloc]init ];\n+                    for(NSString* parentPath in additionalPathSet){\n+                        //The local directory is not exist\n+                        NSString* newPath = [NSString stringWithFormat:@\"%@/%@/\",parentPath,entryTitle];\n+                        if([localInfoDic valueForKey:newPath]==nil){\n+                            [GBUtility createLocalFolderAtPath: newPath];\n+                            [GBUtility setIdentifier:identifier forFileAtPath:newPath];\n+                            [newPathSet addObject:newPath];\n+                        }\n+                        [additionalIdentifierDic setValue:newPathSet forKey:identifier];\n+                        \n+                        //If the local directory is exist, then nothing have to be done.\n+                    }\n+                    \n \n-                //If the local directory is exist, then nothing have to be done.\n+                }\n+            }else{\n+                NSMutableSet *newPathSet = [[NSMutableSet alloc]init ];\n+                for(NSString* parentPath in parentPathSet){\n+                    //The local directory is not exist\n+                    NSString* newPath = [NSString stringWithFormat:@\"%@/%@/\",parentPath,entryTitle];\n+                    if([localInfoDic valueForKey:newPath]==nil){\n+                        [GBUtility createLocalFolderAtPath: newPath];\n+                        [GBUtility setIdentifier:identifier forFileAtPath:newPath];\n+                        [newPathSet addObject:newPath];\n+                    }\n+                    [additionalIdentifierDic setValue:newPathSet forKey:identifier];\n+                    \n+                    //If the local directory is exist, then nothing have to be done.\n+                }\n             }\n+            \n         }\n     }\n     [dataFacility setState:kGBStateDone ofTaskID:[taskMO objectID]];\n@@ -288,7 +312,7 @@\n             }\n             if([[NSFileManager defaultManager] fileExistsAtPath:path]){\n                 //This check insure the local file exist, when uploading the file.\n-                NSString* possibleIdentifier = [GBUtility identifierforFileAtPath:path];\n+                NSString* possibleIdentifier = [GBUtility identifierForFileAtPath:path];\n                 if(possibleIdentifier==nil||[possibleIdentifier length]<80){\n                     [uploadingPaths addObject:path];\n                     [NSTimer scheduledTimerWithTimeInterval:i\n@@ -320,7 +344,7 @@\n         case kGBLocalFileUpdated: {\n             NSString* path = operandA;\n             \n-            NSString* identifier = [GBUtility identifierforFileAtPath:path];\n+            NSString* identifier = [GBUtility identifierForFileAtPath:path];\n            \n \n             if(identifier!=nil&&[identifier length]>80){\n@@ -421,7 +445,7 @@\n                 if([[path stringByDeletingLastPathComponent] length]!= [[GBUtility rootPath] length]){\n                     //The file not exist at root path\n                     NSString* parentPath = [[path stringByDeletingLastPathComponent] stringByAppendingString:@\"/\"];\n-                    NSString* parentIdentifier = [GBUtility identifierforFileAtPath:parentPath];\n+                    NSString* parentIdentifier = [GBUtility identifierForFileAtPath:parentPath];\n                     if(parentIdentifier!=nil){\n                         NSSet* includedEntries = [collectionManager includedEntryOfCollectionIdentifier:parentIdentifier];\n                         for(GDataEntryDocBase* entry in includedEntries){\n@@ -473,7 +497,7 @@\n                         [dataFacility insertEvent:0\n                                     withEventCode:kGBLocalRemoveEntryFromCollection\n                                          operandA:identifierToDelete\n-                                      andOperandB:[GBUtility identifierforFileAtPath:parentPath]];\n+                                      andOperandB:[GBUtility identifierForFileAtPath:parentPath]];\n                     }\n                 }\n                 \n@@ -498,7 +522,7 @@\n                             return YES;\n                         }\n                     }\n-                    NSString* possibleIdentifier = [GBUtility identifierforFileAtPath:path];\n+                    NSString* possibleIdentifier = [GBUtility identifierForFileAtPath:path];\n                     if(possibleIdentifier==nil||[possibleIdentifier length]<80){\n                         [uploadingPaths addObject:path];\n                         [collectionManager createFolder:path];\n@@ -528,7 +552,7 @@\n             //kGBLocalRename\n             NSString* newPath = [taskMO valueForKey:@\"operandB\"];\n             NSString *newName = [newPath lastPathComponent];\n-            NSString* identifier = [GBUtility identifierforFileAtPath:newPath];;\n+            NSString* identifier = [GBUtility identifierForFileAtPath:newPath];;\n             if(identifier!=nil&&[identifier length]>80){\n                 [self appendPISingle:[NSString stringWithFormat:@\"Renamed:%@\",newName] ];\n \n@@ -568,9 +592,9 @@\n                 \n                 NSString* parentPath = [[oldPath stringByDeletingLastPathComponent] stringByAppendingString:@\"/\"];\n                 \n-                NSString* parentIdentifier = [GBUtility identifierforFileAtPath:parentPath];\n+                NSString* parentIdentifier = [GBUtility identifierForFileAtPath:parentPath];\n                 \n-                NSString* entryIdentifier = [GBUtility identifierforFileAtPath:newPath];\n+                NSString* entryIdentifier = [GBUtility identifierForFileAtPath:newPath];\n                 \n                 [dataFacility insertEvent:0\n                             withEventCode:kGBLocalRemoveEntryFromCollection\n@@ -618,9 +642,9 @@\n             NSString* parentPath = [[path stringByDeletingLastPathComponent] stringByAppendingString:@\"/\"];\n             [self appendPISingle:[NSString stringWithFormat:@\"ADD:%@ To %@\",[path lastPathComponent],[parentPath lastPathComponent]  ] ];\n \n-            NSString* parentIdentifier = [GBUtility identifierforFileAtPath:parentPath];\n+            NSString* parentIdentifier = [GBUtility identifierForFileAtPath:parentPath];\n             \n-            NSString* entryIdentifier = [GBUtility identifierforFileAtPath:path];\n+            NSString* entryIdentifier = [GBUtility identifierForFileAtPath:path];\n             GDataEntryDocBase* entry = [docListData entryForIdentifier:entryIdentifier];\n             if(entry==nil||parentIdentifier==nil){\n                 [dataFacility setState:kGBStateCancel ofTaskID:[taskMO objectID]];\n@@ -649,11 +673,15 @@\n                 for(NSString* parentPath in parentPaths){\n                     [GBUtility cpFileAt:entryPath to:[NSString stringWithFormat:@\"%@/%@\",parentPath,fileName]];\n                 }\n+                if([parentPaths count]==1&&\n+                   [[anyParentPath stringByDeletingLastPathComponent] isEqualToString: [GBUtility rootPath]]){\n+                    [GBUtility removeFileAt:anyParentPath];\n+                }\n                 [dataFacility setState:kGBStateDone ofTaskID:taskID];\n                 [currentExecutingTasks removeObject:taskID];\n                 \n             }else{\n-                [dataFacility setState:kGBStateCancel ofTaskID:taskID];\n+                [dataFacility setState:kGBStateWaiting ofTaskID:taskID];\n                 [currentExecutingTasks removeObject:taskID];\n \n                 /*",
      "status": "modified",
      "deletions": 31,
      "additions": 59,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBTaskHandler.m",
      "changes": 90,
      "filename": "GBox/GBTaskHandler.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBTaskHandler.m"
    },
    {
      "patch": "--- a/GBox/GBUploadOperation.m\n+++ b/GBox/GBUploadOperation.m\n@@ -211,7 +211,7 @@\n             if([option isEqualToString:@\"NewRevision\"]){\n                 [newEntry setETag:@\"*\"]; \n                 \n-                NSString* entryIdentifier = [GBUtility identifierforFileAtPath:path];\n+                NSString* entryIdentifier = [GBUtility identifierForFileAtPath:path];\n                 GDataEntryDocBase* selectedDoc = [docListData entryForIdentifier:entryIdentifier];\n                 NSURL *uploadURL = [[selectedDoc uploadEditLink] URL]; \n                 GDataQueryDocs *query = [GDataQueryDocs queryWithFeedURL:uploadURL]; ",
      "status": "modified",
      "deletions": 1,
      "additions": 1,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBUploadOperation.m",
      "changes": 2,
      "filename": "GBox/GBUploadOperation.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBUploadOperation.m"
    },
    {
      "patch": "--- a/GBox/GBUtility.h\n+++ b/GBox/GBUtility.h\n@@ -46,7 +46,7 @@\n +(NSInteger)setIdentifier:(NSString*) resourceID\n             forFileAtPath:(NSString*) path;\n \n-+(NSString*)identifierforFileAtPath:(NSString*)path;\n++(NSString*)identifierForFileAtPath:(NSString*)path;\n \n +(BOOL) isNetworkActive;\n ",
      "status": "modified",
      "deletions": 1,
      "additions": 1,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBUtility.h",
      "changes": 2,
      "filename": "GBox/GBUtility.h",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBUtility.h"
    },
    {
      "patch": "--- a/GBox/GBUtility.m\n+++ b/GBox/GBUtility.m\n@@ -226,7 +226,7 @@ static NSUInteger sharedBandWidth = 0;\n     return result;\n }\n \n-+(NSString*)identifierforFileAtPath:(NSString*)path_string{\n++(NSString*)identifierForFileAtPath:(NSString*)path_string{\n     \n     char textEncoding[256];\n     ssize_t attrSize;\n@@ -270,34 +270,34 @@ static NSUInteger sharedBandWidth = 0;\n }\n \n \n-+(NSURL *)applicationLogDirectory{\n-    static const NSString *LOG_DIRECTORY = @\"GBox\";\n-    NSURL* ald = nil;\n-    \n-    NSFileManager *fileManager = [NSFileManager defaultManager];\n-    NSError *error = nil;\n-    NSURL *libraryURL = [fileManager URLForDirectory:NSLibraryDirectory inDomain:NSUserDomainMask\n-                                   appropriateForURL:nil create:YES error:&error];\n-    if (libraryURL == nil) {\n-        NSLog(@\"Could not access Library directory\\n%@\", [error localizedDescription]);\n-    }\n-    \n-    else {\n-        ald = [libraryURL URLByAppendingPathComponent:@\"Logs\"];\n-        ald = [ald URLByAppendingPathComponent:LOG_DIRECTORY];\n-        NSDictionary *properties = [ald resourceValuesForKeys:\n-                                    [NSArray arrayWithObject:NSURLIsDirectoryKey] error:&error];\n-        if (properties == nil) {\n-            if (![fileManager createDirectoryAtPath:[ald path]\n-                        withIntermediateDirectories:YES attributes:nil error:&error]) {\n-                NSLog(@\"Could not create directory %@\\n%@\",\n-                      [ald path], [error localizedDescription]);\n-                ald = nil;\n-            }\n-        }\n-    }\n-    \n-    return ald;\n++ (NSURL *)applicationLogDirectory {\n+\tstatic const NSString *LOG_DIRECTORY = @\"GBox\";\n+\tNSURL *ald = nil;\n+\n+\tNSFileManager *fileManager = [NSFileManager defaultManager];\n+\tNSError *error = nil;\n+\tNSURL *libraryURL = [fileManager URLForDirectory: NSLibraryDirectory inDomain: NSUserDomainMask\n+\t                     appropriateForURL: nil create: YES error: &error];\n+\tif (libraryURL == nil) {\n+\t\tNSLog(@\"Could not access Library directory\\n%@\", [error localizedDescription]);\n+\t}\n+\n+\telse {\n+\t\tald = [libraryURL URLByAppendingPathComponent: @\"Logs\"];\n+\t\tald = [ald URLByAppendingPathComponent: LOG_DIRECTORY];\n+\t\tNSDictionary *properties = [ald resourceValuesForKeys:\n+\t\t                            [NSArray arrayWithObject: NSURLIsDirectoryKey] error: &error];\n+\t\tif (properties == nil) {\n+\t\t\tif (![fileManager createDirectoryAtPath: [ald path]\n+\t\t\t      withIntermediateDirectories: YES attributes: nil error: &error]) {\n+\t\t\t\tNSLog(@\"Could not create directory %@\\n%@\",\n+\t\t\t\t      [ald path], [error localizedDescription]);\n+\t\t\t\tald = nil;\n+\t\t\t}\n+\t\t}\n+\t}\n+\n+\treturn ald;\n }\n \n +(BOOL)recycleFileAtPath:(NSString*)path{",
      "status": "modified",
      "deletions": 29,
      "additions": 29,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBUtility.m",
      "changes": 58,
      "filename": "GBox/GBUtility.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBUtility.m"
    },
    {
      "patch": "--- a/GBox/GBox-Info.plist\n+++ b/GBox/GBox-Info.plist\n@@ -9,7 +9,7 @@\n \t<key>CFBundleIconFile</key>\n \t<string>bigIcon.icns</string>\n \t<key>CFBundleIdentifier</key>\n-\t<string>com.Plant.${PRODUCT_NAME:rfc1034identifier}</string>\n+\t<string>jp.theplant.${PRODUCT_NAME:rfc1034identifier}</string>\n \t<key>CFBundleInfoDictionaryVersion</key>\n \t<string>6.0</string>\n \t<key>CFBundleName</key>",
      "status": "modified",
      "deletions": 1,
      "additions": 1,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBox-Info.plist",
      "changes": 2,
      "filename": "GBox/GBox-Info.plist",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBox-Info.plist"
    },
    {
      "patch": "--- a/GBox/GBoxAppDelegate.m\n+++ b/GBox/GBoxAppDelegate.m\n@@ -374,7 +374,7 @@\n \n // the callbacks for GBNetworkStatusWatcherHandler\n - (void)networkConnected {\n-    NSLog(@\"network Connected\");\n+    NSLog(@\"Network Connected\");\n     if(![authController isSignedIn]&&setupFinished==YES){\n         [authController tryKeychainAuthenticaiton];\n     }\n@@ -383,7 +383,7 @@\n }\n \n - (void)networkDisconnected {\n-    NSLog(@\"network Disconnected\");\n+    NSLog(@\"Network Disconnected\");\n     //[syncController stopAlloperation];\n }\n ",
      "status": "modified",
      "deletions": 2,
      "additions": 2,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBoxAppDelegate.m",
      "changes": 4,
      "filename": "GBox/GBoxAppDelegate.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBoxAppDelegate.m"
    },
    {
      "patch": "--- a/GBox/GBoxConstants.h\n+++ b/GBox/GBoxConstants.h\n@@ -8,86 +8,86 @@\n \n #import <Foundation/Foundation.h>\n \n-extern NSString* const kGBAuthenticationSucceed ;       \n-extern NSString* const kGBAuthFailed   ;       \n-extern NSString* const kGBDocListFetchSucceed ;  \n-extern NSString* const kGBFolderFeedFetchSucceed;\n-extern NSString* const kGBContactsListFetchSucceed;\n-extern NSString* const kGBMetaDataFetchSucceed;\n-extern NSString* const kGBACLShareFeedFetchSucceed;\n-extern NSString* const kGBDocChangeFeedFetchSucceed;\n-extern NSString* const kGBInitialDocChangeFeedFetchSucceed;\n-extern NSString* const kGBFileAttributeIdentifier;\n-extern NSString* const kGBIsInitialTimestampFetch;\n-extern NSString* const kGBFolderCreateSucceed;\n-extern NSString* const kGBSelectiveSyncFolders ;\n+extern NSString *const kGBAuthenticationSucceed;\n+extern NSString *const kGBAuthFailed;\n+extern NSString *const kGBDocListFetchSucceed;\n+extern NSString *const kGBFolderFeedFetchSucceed;\n+extern NSString *const kGBContactsListFetchSucceed;\n+extern NSString *const kGBMetaDataFetchSucceed;\n+extern NSString *const kGBACLShareFeedFetchSucceed;\n+extern NSString *const kGBDocChangeFeedFetchSucceed;\n+extern NSString *const kGBInitialDocChangeFeedFetchSucceed;\n+extern NSString *const kGBFileAttributeIdentifier;\n+extern NSString *const kGBIsInitialTimestampFetch;\n+extern NSString *const kGBFolderCreateSucceed;\n+extern NSString *const kGBSelectiveSyncFolders;\n \n typedef enum {\n-    kGBLocalNewFile = 1,\n-    kGBServerNewFile,\n+\tkGBLocalNewFile = 1,\n+\tkGBServerNewFile,\n \n-    kGBServerDeleteFile,\n-    kGBLocalDeleteFile,\n+\tkGBServerDeleteFile,\n+\tkGBLocalDeleteFile,\n \n-    kGBServerDeleteCollection,\n-    kGBLocalDeleteCollection,\n+\tkGBServerDeleteCollection,\n+\tkGBLocalDeleteCollection,\n \n-    kGBServerNewCollection,\n-    kGBLocalNewCollection,\n+\tkGBServerNewCollection,\n+\tkGBLocalNewCollection,\n \n-    kGBServerRemoveEntryFromCollection,\n-    \n-    kGBServerAddEntryToCollection,\n+\tkGBServerRemoveEntryFromCollection,\n \n-    kGBServerRename,\n-    kGBLocalRename,\n+\tkGBServerAddEntryToCollection,\n \n-    kGBServerFileUpdated,\n-    kGBLocalFileUpdated,\n+\tkGBServerRename,\n+\tkGBLocalRename,\n \n-    kGBLocalMoveEntry,\n-    \n-    kGBServerNoMD5ConflictedFileExist,\n+\tkGBServerFileUpdated,\n+\tkGBLocalFileUpdated,\n \n-    kGBFileExistPathsSubSet,\n-    \n-    kGBServerNoMD5FileExist,\n+\tkGBLocalMoveEntry,\n \n-    kGBSync,\n-    \n-    kGBLocalAddEntryToCollection,\n-    \n-    kGBLocalRemoveEntryFromCollection\n-    \n-} GBEventCode;\n+\tkGBServerNoMD5ConflictedFileExist,\n+\n+\tkGBFileExistPathsSubSet,\n+\n+\tkGBServerNoMD5FileExist,\n+\n+\tkGBSync,\n+\n+\tkGBLocalAddEntryToCollection,\n+\n+\tkGBLocalRemoveEntryFromCollection\n+}\n+GBEventCode;\n //The last 6 event code will never be detected, only used by internal handle logic in GBTaskHandler\n \n-extern NSString* const kGBFileAttributeMD5;\n+extern NSString *const kGBFileAttributeMD5;\n \n extern NSInteger const kGBStateDone;\n extern NSInteger const kGBStateExecuting;\n extern NSInteger const kGBStateWaiting;\n extern NSInteger const kGBStateCancel;\n \n-extern NSString* const kGBDownloadFinished;\n-extern NSString* const kGBDownloadFailed;\n-extern NSString* const kGBUploadFinished;\n-extern NSString* const kGBUploadFailed;\n+extern NSString *const kGBDownloadFinished;\n+extern NSString *const kGBDownloadFailed;\n+extern NSString *const kGBUploadFinished;\n+extern NSString *const kGBUploadFailed;\n \n-extern NSString* const kGBRemoveEntryFromCollectionFailed;\n+extern NSString *const kGBRemoveEntryFromCollectionFailed;\n \n-extern NSString * const kGB_DB_STORE_FILENAME; \n+extern NSString *const kGB_DB_STORE_FILENAME;\n \n \n-extern NSString* const kGBACLEntryAdded;\n+extern NSString *const kGBACLEntryAdded;\n \n-extern NSString* const kGBLargestChangestamp;\n+extern NSString *const kGBLargestChangestamp;\n \n-extern NSString* const kGBSetupFinished;\n+extern NSString *const kGBSetupFinished;\n \n-extern NSString* const kGBChangeAccount;\n+extern NSString *const kGBChangeAccount;\n \n-extern NSString * const kGBFileSystemWatcherLastEventIDKey;\n+extern NSString *const kGBFileSystemWatcherLastEventIDKey;\n \n @interface GBoxConstants : NSObject\n ",
      "status": "modified",
      "deletions": 53,
      "additions": 53,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBoxConstants.h",
      "changes": 106,
      "filename": "GBox/GBoxConstants.h",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBoxConstants.h"
    },
    {
      "patch": "--- a/GBox/GBoxConstants.m\n+++ b/GBox/GBoxConstants.m\n@@ -10,62 +10,61 @@\n #import \"GBUtility.h\"\n \n @implementation GBoxConstants\n-NSString* const kGBAuthenticationSucceed  = @\"kGBAuthenticationSucceed\";\n-NSString * const kGBAuthFailed = @\"kGBAuthFailed\";\n-NSString* const kGBDocListFetchSucceed = @\"kGBDocListFetchSucceed\"; \n-NSString* const kGBFolderFeedFetchSucceed=@\"GBFolderFeedFetchSucceed\";\n-NSString* const kGBContactsListFetchSucceed=@\"kGBContactsListFetchSucceed\";\n-NSString* const kGBMetaDataFetchSucceed = @\"kGBMetaDataFetchSucceed\";\n-NSString* const kGBACLShareFeedFetchSucceed =@\"kGBACLShareFeedFetchSucceed\";\n-NSString* const kGBDocChangeFeedFetchSucceed=@\"kGBDocChangeFeedFetchSucceed\";\n-NSString* const kGBFileAttributeIdentifier =@\"kGBFileAttributeIdentifier\";\n-NSString* const kGBIsInitialTimestampFetch = @\"isInitialTimestampFetch\";\n- NSString* const kGBInitialDocChangeFeedFetchSucceed = @\"kGBInitialDocChangeFeedFetchSucceed\";\n-NSString* const kGBFolderCreateSucceed= @\"kGBFolderCreateSucceed\";\n-\n-NSInteger const kGBStateDone=3;\n-NSInteger const kGBStateExecuting=2;\n-NSInteger const kGBStateWaiting=1;\n-NSInteger const kGBStateCancel=4;\n+NSString *const kGBAuthenticationSucceed  = @\"kGBAuthenticationSucceed\";\n+NSString *const kGBAuthFailed = @\"kGBAuthFailed\";\n+NSString *const kGBDocListFetchSucceed = @\"kGBDocListFetchSucceed\";\n+NSString *const kGBFolderFeedFetchSucceed = @\"GBFolderFeedFetchSucceed\";\n+NSString *const kGBContactsListFetchSucceed = @\"kGBContactsListFetchSucceed\";\n+NSString *const kGBMetaDataFetchSucceed = @\"kGBMetaDataFetchSucceed\";\n+NSString *const kGBACLShareFeedFetchSucceed = @\"kGBACLShareFeedFetchSucceed\";\n+NSString *const kGBDocChangeFeedFetchSucceed = @\"kGBDocChangeFeedFetchSucceed\";\n+NSString *const kGBFileAttributeIdentifier = @\"kGBFileAttributeIdentifier\";\n+NSString *const kGBIsInitialTimestampFetch = @\"isInitialTimestampFetch\";\n+NSString *const kGBInitialDocChangeFeedFetchSucceed = @\"kGBInitialDocChangeFeedFetchSucceed\";\n+NSString *const kGBFolderCreateSucceed = @\"kGBFolderCreateSucceed\";\n+\n+NSInteger const kGBStateDone = 3;\n+NSInteger const kGBStateExecuting = 2;\n+NSInteger const kGBStateWaiting = 1;\n+NSInteger const kGBStateCancel = 4;\n \n //NSInteger const kGBFileAttributeMD5=0;\n-NSInteger const kGBFileAttributeUpdatedTime=1;\n-NSInteger const kGBFileAttributeIsDirectory=2;\n+NSInteger const kGBFileAttributeUpdatedTime = 1;\n+NSInteger const kGBFileAttributeIsDirectory = 2;\n \n-NSString* const kGBFileAttributeMD5=@\"kGBFileAttributeMD5\";\n+NSString *const kGBFileAttributeMD5 = @\"kGBFileAttributeMD5\";\n \n-NSString* const kGBDownloadFinished=@\"kGBDownloadFinished\";\n-NSString* const kGBDownloadFailed=@\"kGBDownloadFailed\";\n+NSString *const kGBDownloadFinished = @\"kGBDownloadFinished\";\n+NSString *const kGBDownloadFailed = @\"kGBDownloadFailed\";\n \n-NSString* const kGBUploadFinished=@\"kGBUploadFinished\";\n-NSString* const kGBUploadFailed=@\"kGBUploadFailed\";\n+NSString *const kGBUploadFinished = @\"kGBUploadFinished\";\n+NSString *const kGBUploadFailed = @\"kGBUploadFailed\";\n \n-NSString* const kGBACLEntryAdded=@\"kGBACLEntryAdded\";\n+NSString *const kGBACLEntryAdded = @\"kGBACLEntryAdded\";\n \n-NSString* const kGBLargestChangestamp=@\"largestChangestamp\";\n+NSString *const kGBLargestChangestamp = @\"largestChangestamp\";\n \n-NSString* const kGBSetupFinished = @\"kGBSetupFinished---Alpha5\";\n+NSString *const kGBSetupFinished = @\"kGBSetupFinished----Alpha5\";\n \n-NSString * const kGB_DB_STORE_FILENAME = @\"gbdatamodel.xml\";\n+NSString *const kGB_DB_STORE_FILENAME = @\"gbdatamodel.xml\";\n \n-NSString* const kGBChangeAccount = @\"kGBChangeAccount\";\n+NSString *const kGBChangeAccount = @\"kGBChangeAccount\";\n \n-NSString* const kGBRemoveEntryFromCollectionFailed =  @\"kGBRemoveEntryFromCollectionFailed\";\n+NSString *const kGBRemoveEntryFromCollectionFailed =  @\"kGBRemoveEntryFromCollectionFailed\";\n \n-NSString* const kGBFSEventStreamEventId = @\"kGBFSEventStreamEventId\";\n+NSString *const kGBFSEventStreamEventId = @\"kGBFSEventStreamEventId\";\n \n-NSString * const kGBFileSystemWatcherLastEventIDKey = @\"GBFileSystemWatcherLastEventID\";\n+NSString *const kGBFileSystemWatcherLastEventIDKey = @\"GBFileSystemWatcherLastEventID\";\n \n-NSString* const kGBSelectiveSyncFolders = @\"GBoxSelectiveFolders\";\n+NSString *const kGBSelectiveSyncFolders = @\"GBoxSelectiveFolders\";\n \n-- (id)init\n-{\n-    self = [super init];\n-    if (self) {\n-        // Initialization code here.\n-    }\n-    \n-    return self;\n+- (id)init {\n+\tself = [super init];\n+\tif (self) {\n+\t\t// Initialization code here.\n+\t}\n+\n+\treturn self;\n }\n \n @end",
      "status": "modified",
      "deletions": 41,
      "additions": 40,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBoxConstants.m",
      "changes": 81,
      "filename": "GBox/GBoxConstants.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/GBoxConstants.m"
    },
    {
      "patch": "--- a/GBox/ShareWindowController.m\n+++ b/GBox/ShareWindowController.m\n@@ -52,7 +52,7 @@\n     \n \n     NSLog(@\"%@\",filePath);\n-    NSString* identifier = [GBUtility identifierforFileAtPath: filePath];\n+    NSString* identifier = [GBUtility identifierForFileAtPath: filePath];\n     if(identifier !=nil){\n         entry = [[docListData docListFeed] entryForIdentifier:identifier];\n         ",
      "status": "modified",
      "deletions": 1,
      "additions": 1,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/ShareWindowController.m",
      "changes": 2,
      "filename": "GBox/ShareWindowController.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBox/ShareWindowController.m"
    },
    {
      "patch": "--- a/GBoxTests/GBoxTests-Info.plist\n+++ b/GBoxTests/GBoxTests-Info.plist\n@@ -7,7 +7,7 @@\n \t<key>CFBundleExecutable</key>\n \t<string>${EXECUTABLE_NAME}</string>\n \t<key>CFBundleIdentifier</key>\n-\t<string>jp.theplant.${PRODUCT_NAME:rfc1034identifier}</string>\n+\t<string>jp.theplant.GBox.${PRODUCT_NAME:rfc1034identifier}</string>\n \t<key>CFBundleInfoDictionaryVersion</key>\n \t<string>6.0</string>\n \t<key>CFBundlePackageType</key>",
      "status": "modified",
      "deletions": 1,
      "additions": 1,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBoxTests/GBoxTests-Info.plist",
      "changes": 2,
      "filename": "GBoxTests/GBoxTests-Info.plist",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBoxTests/GBoxTests-Info.plist"
    },
    {
      "patch": "--- a/GBoxTests/GBoxTests.h\n+++ b/GBoxTests/GBoxTests.h\n@@ -2,16 +2,12 @@\n //  GBoxTests.h\n //  GBoxTests\n //\n-//  Created by Felix on 6/22/11.\n+//  Created by Felix on 9/13/11.\n //  Copyright 2011 __MyCompanyName__. All rights reserved.\n //\n \n #import <SenTestingKit/SenTestingKit.h>\n \n-\n-@interface GBoxTests : SenTestCase {\n-@private\n-    \n-}\n+@interface GBoxTests : SenTestCase\n \n @end",
      "status": "modified",
      "deletions": 6,
      "additions": 2,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBoxTests/GBoxTests.h",
      "changes": 8,
      "filename": "GBoxTests/GBoxTests.h",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBoxTests/GBoxTests.h"
    },
    {
      "patch": "--- a/GBoxTests/GBoxTests.m\n+++ b/GBoxTests/GBoxTests.m\n@@ -2,32 +2,56 @@\n //  GBoxTests.m\n //  GBoxTests\n //\n-//  Created by Felix on 6/22/11.\n+//  Created by Felix on 9/13/11.\n //  Copyright 2011 __MyCompanyName__. All rights reserved.\n //\n \n #import \"GBoxTests.h\"\n-\n+#import \"GBUtility.h\"\n+#import \"GBDataFacility.h\"\n+#import \"GBoxConstants.h\"\n \n @implementation GBoxTests\n \n - (void)setUp\n {\n     [super setUp];\n-    \n+\n     // Set-up code here.\n }\n \n - (void)tearDown\n {\n     // Tear-down code here.\n-    \n+\n     [super tearDown];\n }\n \n-- (void)testExample\n+- (void)testGBUtility_setIdentifier\n {\n-    STFail(@\"Unit tests are not implemented yet in GBoxTests\");\n+    NSString* value = @\"felix21212\";\n+\n+    [GBUtility setIdentifier:value forFileAtPath:[GBUtility rootPath]];\n+\n+    STAssertEqualObjects(value,\n+                   [GBUtility identifierForFileAtPath:[GBUtility rootPath]],\n+                   [GBUtility identifierForFileAtPath:[GBUtility rootPath]]);\n+}\n+\n+- (void)testGBUtility_applicationLogDirectory {\n+\tSTAssertNotNil([[GBUtility applicationLogDirectory] absoluteString], @\"applicationLogDirectory is nil\");\n+}\n+\n+\n+- (void)testGBDataFacility_insertEvent {\n+    GBDataFacility *df = [GBDataFacility sharedDataFacility];\n+    NSString *identifier = @\"https://docs.google.com/feeds/id/folder%3A0B53sIHDAZjj8YTkyZmFjZWQtMzUzYS00MmQ4LTk1MDgtYjVmNzFiYmJjYTQ1\";\n+\n+    [df insertEvent:[NSNumber numberWithInt:10000] withEventCode:kGBServerFileUpdated operandA:identifier andOperandB:nil];\n+\n+    NSManagedObject *mo = [df fetchTaskOfTimestamp:[NSNumber numberWithInt:10000]];\n+\n+    STAssertEqualObjects(identifier, [mo valueForKey:@\"operandA\"], @\"\");\n }\n \n @end",
      "status": "modified",
      "deletions": 6,
      "additions": 30,
      "blob_url": "https://github.com/theplant/GBox/blob/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBoxTests/GBoxTests.m",
      "changes": 36,
      "filename": "GBoxTests/GBoxTests.m",
      "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
      "raw_url": "https://github.com/theplant/GBox/raw/9ee0af0bfe2aa612059d9c25466c012acf44974e/GBoxTests/GBoxTests.m"
    }
  ],
  "stats": {
    "deletions": 0,
    "additions": 0,
    "total": 0
  },
  "parents": [
    {
      "sha": "2d80757ad4e49a07c1d207e3bcb50187ce8826dc",
      "url": "https://api.github.com/repos/theplant/GBox/commits/2d80757ad4e49a07c1d207e3bcb50187ce8826dc"
    },
    {
      "sha": "0432d6c7b0d49df71d541fb265b073fe66522e46",
      "url": "https://api.github.com/repos/theplant/GBox/commits/0432d6c7b0d49df71d541fb265b073fe66522e46"
    }
  ],
  "sha": "9ee0af0bfe2aa612059d9c25466c012acf44974e",
  "commit": {
    "tree": {
      "sha": "0b62ff2940414c2dfda857550c6a3b89ebed43a1",
      "url": "https://api.github.com/repos/theplant/GBox/git/trees/0b62ff2940414c2dfda857550c6a3b89ebed43a1"
    },
    "message": "Fix problem concern collection on server.",
    "committer": {
      "date": "2011-09-14T01:02:43-07:00",
      "name": "Xiaoyi Chen",
      "email": "xiaoyi.chen@hotmail.com"
    },
    "author": {
      "date": "2011-09-14T01:02:43-07:00",
      "name": "Xiaoyi Chen",
      "email": "xiaoyi.chen@hotmail.com"
    },
    "url": "https://api.github.com/repos/theplant/GBox/git/commits/9ee0af0bfe2aa612059d9c25466c012acf44974e"
  },
  "url": "https://api.github.com/repos/theplant/GBox/commits/9ee0af0bfe2aa612059d9c25466c012acf44974e"
}
